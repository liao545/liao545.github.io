{"title":"信息收集流程","uid":"1b77ba18c55109a4d53f945700a7bb03","slug":"信息收集流程","date":"2021-11-20T11:43:56.000Z","updated":"2021-11-20T15:07:39.853Z","comments":true,"path":"api/articles/信息收集流程.json","keywords":null,"cover":null,"content":"<meta name=\"referrer\" content=\"no-referrer\"/>\n\n<h2 id=\"信息收集的重要性\"><a href=\"#信息收集的重要性\" class=\"headerlink\" title=\"信息收集的重要性\"></a>信息收集的重要性</h2><p><strong>简单说，你能不能挖到东西。能不能多挖东西，就看你信息收集的程度。</strong></p>\n<h2 id=\"whois信息收集\"><a href=\"#whois信息收集\" class=\"headerlink\" title=\"whois信息收集\"></a>whois信息收集</h2><p>拿到对方网站域名，在站长之家或是在kali中进行whois查询。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">kali中直接\nwhois &lt;域名&gt;    \n如果返回的是英文，那可以直接百度翻译或是谷歌翻译。</code></pre>\n\n<p>嫌麻烦可以直接站长之家进行查询：<a href=\"http://whois.chinaz.com/\">http://whois.chinaz.com/</a></p>\n<p>还有这些：<a href=\"https://whois.aliyun.com/\">https://whois.aliyun.com/</a> 、 <a href=\"https://www.whois365.com/cn/%E3%80%81\">https://www.whois365.com/cn/、</a> <a href=\"https://whois.aizhan.com/\">https://whois.aizhan.com/</a> </p>\n<h2 id=\"子域名信息收集\"><a href=\"#子域名信息收集\" class=\"headerlink\" title=\"子域名信息收集\"></a>子域名信息收集</h2><p>有时候主域名很难搞，就可以从子域名下手。</p>\n<p>1、子域名挖掘工具 如：Maltego CE、wydomain、subDomainsBrute、dnsmaper、Layer子域名挖掘机。</p>\n<p>2、搜索引擎挖掘 如： 在Google中输入 site:sina.com</p>\n<p>3、第三方网站查询：<a href=\"http://tool.chinaz.com/subdomain%E3%80%81https://dnsdumpster.com/\">http://tool.chinaz.com/subdomain、https://dnsdumpster.com/</a></p>\n<p>4、证书透明度公开日志枚举：<a href=\"https://crt.sh/\">https://crt.sh/</a> 、<a href=\"http://censys.io/\">http://censys.io/</a></p>\n<p>5、其他途径：<a href=\"https://phpinfo.me/domain\">https://phpinfo.me/domain</a> 、<a href=\"http://dns.aizhan.com/\">http://dns.aizhan.com</a></p>\n<h2 id=\"敏感信息收集\"><a href=\"#敏感信息收集\" class=\"headerlink\" title=\"敏感信息收集\"></a>敏感信息收集</h2><p>其实敏感信息在护网时可以当作漏洞提交了。</p>\n<p>例如：数据库文件、SQL注入、服务器配置信息、甚至是通过Git找到站点泄露源代码、以及Redis等未授权访问、robots.txt等敏感信息。从而达到渗透测试的目的。</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"><strong>关键字</strong></th>\n<th><strong>含义</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">site</td>\n<td>指定搜索域名 例如：site:baidu.com</td>\n</tr>\n<tr>\n<td align=\"center\">inurl</td>\n<td>指定URL中是否存在某些关键字 例如：inurl:.php?id=</td>\n</tr>\n<tr>\n<td align=\"center\">intext</td>\n<td>指定网页中是否存在某些关键字 例如：intext:网站管理</td>\n</tr>\n<tr>\n<td align=\"center\">filetype</td>\n<td>指定搜索文件类型 例如：filetype:txt</td>\n</tr>\n<tr>\n<td align=\"center\">intitle</td>\n<td>指定网页标题是否存在某些关键字 例如：intitle:后台管理</td>\n</tr>\n<tr>\n<td align=\"center\">link</td>\n<td>指定网页链接 例如：link:baidu.com 指定与百度做了外链的站点</td>\n</tr>\n<tr>\n<td align=\"center\">info</td>\n<td>指定搜索网页信息 info:baidu.com</td>\n</tr>\n</tbody></table>\n<p>还有这个高级用法查询：<a href=\"https://www.exploit-db.com/google-hacking-database\">https://www.exploit-db.com/google-hacking-database</a></p>\n<p>还有从数据包中发现目标用到编程语言和服务器信息。</p>\n<h3 id=\"在GitHub上进行收集信息\"><a href=\"#在GitHub上进行收集信息\" class=\"headerlink\" title=\"在GitHub上进行收集信息\"></a>在GitHub上进行收集信息</h3><p><strong>这个其实得看前面收集信息的程度。</strong></p>\n<p>Github之邮件配置信息泄露：site:Github.com smtp、site:Github.com smtp @qq.com</p>\n<p>Github之数据库信息泄露：site:Github.com sa password、site:Github.com root password、<br>site:Github.com User ID=’sa’;Password</p>\n<p>Github之svn信息泄露：site:Github.com svn、site:Github.com svn username</p>\n<p>Github之综合信息泄露：site:Github.com password、site:Github.com ftp ftppassword、<br>site:Github.com 密码、site:Github.com 内部</p>\n<h2 id=\"收集真实IP地址\"><a href=\"#收集真实IP地址\" class=\"headerlink\" title=\"收集真实IP地址\"></a>收集真实IP地址</h2><p>先看是否有CDN，使用：<a href=\"http://ping.chinaz.com/\">http://ping.chinaz.com/</a></p>\n<p>没有使用CDN可以直接PING</p>\n<p>如果目标使用CDN，需要绕过CDN来获取真实IP地址。<br>1、内部邮箱源  收集到内部邮箱服务器IP地址<br>2、网站phpinfo文件 phpinfo.php<br>3、分站IP地址，查询子域名  CDN很贵，很有可能分站就不再使用CDN。<br>4、国外访问  <a href=\"https://asm.ca.com/en/ping.php\">https://asm.ca.com/en/ping.php</a><br>5、查询域名解析记录  <a href=\"https://viewdns.info/\">https://viewdns.info/</a></p>\n<p>当收集到真实IP就可以直接访问，如果和网址访问一样就代表真实IP，否则则为假。</p>\n<h2 id=\"端口信息收集\"><a href=\"#端口信息收集\" class=\"headerlink\" title=\"端口信息收集\"></a>端口信息收集</h2><p>使用nmap进行端口扫描</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nmap -A -v -T4 IP   #快速全面探测\nnmap IP --script banner -p 22   #探测22好端口banner信息\nnmap -p 端口号 -sV IP  \nnmap -O IP   #获取操作系统的信息\nnmap -A -V IP   #对目标进行完整的测试</code></pre>\n\n<p>使用masscan</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">masscan --ports 1-10000 目标IP --adapter-ip 本机IP\n\n--adapter-ip 指定发包的ip地址\n\n--adapter-port 指定发包源端口\n\n--adapter-mac 指定发包的源MAC地址\n\n--router-mac 指定网关MAC地址\n\n--exclude IP地址范围黑名单，防止masscan扫描\n\n--excludefile 指定IP地址范围黑名单文件\n\n--includefile,-iL 读取一个范围列表进行扫描\n\n--wait 指定发包后的等待时间</code></pre>\n\n<p>使用Dmitry</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">dmitry -p IP\ndmitry -pb IP #获取banner信息</code></pre>\n\n<p>使用netcat</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nc -nvz IP 端口范围\nnc -nvz 192.168.249.110 20-30\nnc -Vn IP 端口号 #获取端口banner信息</code></pre>\n\n<table>\n<thead>\n<tr>\n<th><strong>端口</strong></th>\n<th><strong>端口说明</strong></th>\n<th><strong>攻击方法</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>22</td>\n<td>SSH远程连接</td>\n<td>爆破、SSH隧道及内网代理转发、文件传输</td>\n</tr>\n<tr>\n<td>23</td>\n<td>Telnet远程连接</td>\n<td>爆破、嗅探、弱口令</td>\n</tr>\n<tr>\n<td>3389</td>\n<td>rdp远程桌面</td>\n<td>Shift后门、爆破</td>\n</tr>\n<tr>\n<td>5900</td>\n<td>VNC远程连接</td>\n<td>弱口令、RCE</td>\n</tr>\n<tr>\n<td>5632</td>\n<td>PcAnywhere远程连接</td>\n<td>嗅探、代码执行</td>\n</tr>\n</tbody></table>\n<h2 id=\"收集web站点信息\"><a href=\"#收集web站点信息\" class=\"headerlink\" title=\"收集web站点信息\"></a>收集web站点信息</h2><p>CMS在线识别：<a href=\"http://whatweb.bugscaner.com/look/\">http://whatweb.bugscaner.com/look/</a>  、 <a href=\"http://www.yunsee.cn/finger.html\">http://www.yunsee.cn/finger.html</a></p>\n<p>CMS本地识别：whatweb、御剑web指纹识别程序、大禹CMS识别程序 <a href=\"https://github.com/Ms0x0/Dayu\">https://github.com/Ms0x0/Dayu</a></p>\n<p>CMS漏洞查询利用：<a href=\"https://bugs.shuimugan.com/\">https://bugs.shuimugan.com</a></p>\n<p><strong>后台扫描探测工具：</strong></p>\n<p>老版本：                                                              新版本：</p>\n<p>1、御剑后台扫描工具                                         dirmap<br>2、wwwscan命令行工具                                    dirsearch<br>3、dirb命令行工具                                              .git源码泄露<br>4、dirbuster扫描工具</p>\n<p>国外的网站使用<strong>wordpress</strong>,可以使用wpscan工具进行安全测试。</p>\n<h2 id=\"使用扫描网站对IP进行探测\"><a href=\"#使用扫描网站对IP进行探测\" class=\"headerlink\" title=\"使用扫描网站对IP进行探测\"></a>使用扫描网站对IP进行探测</h2><p>使用shodan：<a href=\"https://account.shodan.io/\">https://account.shodan.io</a></p>\n<p>使用钟馗之眼：<a href=\"https://www.zoomeye.org/\">https://www.zoomeye.org/</a></p>\n<p>使用FOFA：<a href=\"https://fofa.so/\">https://fofa.so/</a></p>\n<p>使用shodan查看是否有蜜罐：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">shodan honeyscore IP地址</code></pre>\n\n<h2 id=\"使用集成工具进行信息收集\"><a href=\"#使用集成工具进行信息收集\" class=\"headerlink\" title=\"使用集成工具进行信息收集\"></a>使用集成工具进行信息收集</h2><p>HGather：<a href=\"https://github.com/BaizeSec/HGather\">https://github.com/BaizeSec/HGather</a></p>\n<p>railgun：<a href=\"https://github.com/lz520520/railgun\">https://github.com/lz520520/railgun</a>  这是使用说明书</p>\n<p>以上内容大部分来自网络。。。。。。</p>\n","text":" 信息收集的重要性简单说，你能不能挖到东西。能不能多挖东西，就看你信息收集的程度。 whois信息收集拿到对方网站域名，在站长之家或是在kali中进行whois查询。 kali中直接 whois &lt;域名&gt; 如果返回的是英文，那可以直接百度翻译或是谷歌翻译。 嫌麻烦可以...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"流程","slug":"流程","count":1,"path":"api/categories/流程.json"}],"tags":[{"name":"信息收集","slug":"信息收集","count":1,"path":"api/tags/信息收集.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7\"><span class=\"toc-text\">信息收集的重要性</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#whois%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">whois信息收集</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">子域名信息收集</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">敏感信息收集</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9C%A8GitHub%E4%B8%8A%E8%BF%9B%E8%A1%8C%E6%94%B6%E9%9B%86%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">在GitHub上进行收集信息</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%94%B6%E9%9B%86%E7%9C%9F%E5%AE%9EIP%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">收集真实IP地址</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">端口信息收集</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%94%B6%E9%9B%86web%E7%AB%99%E7%82%B9%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">收集web站点信息</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%89%AB%E6%8F%8F%E7%BD%91%E7%AB%99%E5%AF%B9IP%E8%BF%9B%E8%A1%8C%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">使用扫描网站对IP进行探测</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86\"><span class=\"toc-text\">使用集成工具进行信息收集</span></a></li></ol>","author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"java版本切换","uid":"31f05bcb8807c536b785c3c2b7399b78","slug":"java版本切换","date":"2021-11-26T06:48:05.000Z","updated":"2021-11-30T02:57:24.377Z","comments":true,"path":"api/articles/java版本切换.json","keywords":null,"cover":[],"text":" JDK版本切换我们在进行渗透测试时会用到许许多多的工具，一般的工具需要Java8而有的工具如最新版burp则需要Java11版本。这时候就需要进行JDK的版本切换。 Windows下的JDK版本切换以JDK8和JDK11为例。我们在官网分别下载好安装包。先安装Java8，默认安...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"Java版本切换","slug":"Java版本切换","count":1,"path":"api/categories/Java版本切换.json"}],"tags":[{"name":"Java","slug":"Java","count":21,"path":"api/tags/Java.json"}],"author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"第一次护网","uid":"c5a6228e829628ebe329c5df737b79b7","slug":"第一次护网","date":"2021-11-19T15:36:33.000Z","updated":"2021-11-20T15:02:36.139Z","comments":true,"path":"api/articles/第一次护网.json","keywords":null,"cover":null,"text":" 老实讲，这个我都不好意思放出来。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。。。 。。...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"总结","slug":"总结","count":4,"path":"api/categories/总结.json"}],"tags":[{"name":"总结","slug":"总结","count":4,"path":"api/tags/总结.json"}],"author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}